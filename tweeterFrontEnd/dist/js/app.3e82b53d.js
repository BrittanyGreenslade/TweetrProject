(function(e){function t(t){for(var o,i,a=t[0],c=t[1],l=t[2],d=0,m=[];d<a.length;d++)i=a[d],Object.prototype.hasOwnProperty.call(s,i)&&s[i]&&m.push(s[i][0]),s[i]=0;for(o in c)Object.prototype.hasOwnProperty.call(c,o)&&(e[o]=c[o]);u&&u(t);while(m.length)m.shift()();return r.push.apply(r,l||[]),n()}function n(){for(var e,t=0;t<r.length;t++){for(var n=r[t],o=!0,a=1;a<n.length;a++){var c=n[a];0!==s[c]&&(o=!1)}o&&(r.splice(t--,1),e=i(i.s=n[0]))}return e}var o={},s={app:0},r=[];function i(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=o,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)i.d(n,o,function(t){return e[t]}.bind(null,o));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],c=a.push.bind(a);a.push=t,a=a.slice();for(var l=0;l<a.length;l++)t(a[l]);var u=c;r.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"086d":function(e,t,n){},"19ce":function(e,t,n){e.exports=n.p+"img/peace-dove.bafc4176.svg"},"1bf8":function(e,t,n){},"20d2":function(e,t,n){"use strict";n("b82d")},"26d0":function(e,t,n){},2930:function(e,t,n){e.exports=n.p+"img/close.21a0e771.svg"},"2d2a":function(e,t,n){"use strict";n("cd7a")},"2d7b":function(e,t,n){},"311a":function(e,t,n){e.exports=n.p+"img/trash.c799e5b7.svg"},3478:function(e,t,n){e.exports=n.p+"img/discover.5cfcab2d.svg"},"34c7":function(e,t,n){},"35b1":function(e,t,n){"use strict";n("c588")},"425a":function(e,t,n){"use strict";n("2d7b")},"452c":function(e,t,n){},"47cf":function(e,t,n){"use strict";n("086d")},"4f1f":function(e,t,n){"use strict";n("6ae7")},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var o=n("2b0e"),s=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{attrs:{id:"app"}},[o("div",{attrs:{id:"inApp"}},[e._m(0),o("section",{attrs:{id:"nav"}},[e.loginToken?o("div",{attrs:{id:"navIconsContainer"}},[o("router-link",{attrs:{to:"/feed"}},[o("img",{staticClass:"navIcon",attrs:{id:"feedNav",src:n("c6c2"),alt:"group of trees - users icon"}})]),o("router-link",{attrs:{to:"/profile/"+e.currentUserInfo.userId}},[o("img",{staticClass:"navIcon",attrs:{src:n("aaec"),alt:"single tree - user profile icon"}})]),o("router-link",{attrs:{to:"/discover"}},[o("img",{staticClass:"navIcon",attrs:{src:n("3478"),alt:"light bulb with leaves inside - discover icon"}})]),o("router-link",{attrs:{to:"/users"}},[o("img",{staticClass:"navIcon",attrs:{src:n("78ad"),alt:"group of trees - users icon"}})])],1):e._e(),e.loginToken?o("logout-button",{attrs:{id:"logoutBtn"}}):e._e()],1),o("router-view")],1)])},r=[function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{attrs:{id:"titleContainer"}},[o("h1",[e._v("Sustainappbility")]),o("img",{attrs:{id:"logo",src:n("19ce"),alt:"black outline of dove holding flower"}})])}],i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("button",{attrs:{id:"logoutBtn"},on:{click:e.logout}},[e._v("Logout")])},a=[],c=n("bc3a"),l=n.n(c),u=n("2b27"),d=n.n(u),m={name:"logout-button",data:function(){return{}},computed:{currentUserInfo:function(){return this.$store.state.currentUserInfo},loginToken:function(){return this.$store.state.loginToken}},methods:{navigateToLogin:function(){this.$router.push({name:"Login"})},logout:function(){var e=this;l.a.request({url:"api/login",method:"DELETE",headers:{"Content-Type":"application/json"},data:{loginToken:this.loginToken}}).then((function(t){d.a.remove("loginToken"),e.$store.commit("updateLoginToken",""),d.a.remove("currentUserInfo"),e.$store.commit("updateCurrentUserInfo",void 0),e.loginStatus="Logging you out!",e.navigateToLogin()})).catch((function(t){console.log(e.loginToken),console.log(t)}))}}},f=m,p=(n("dc45"),n("2877")),h=Object(p["a"])(f,i,a,!1,null,"0b4af72b",null),w=h.exports,g={components:{LogoutButton:w},computed:{currentUserInfo:function(){return this.$store.state.currentUserInfo},loginToken:function(){return this.$store.state.loginToken},routePath:function(){return this.$route.path}},watch:{routePath:function(e,t){this.loginToken&&"/"===e&&this.$router.push({path:"/feed"})}},mounted:function(){this.loginToken&&"/"===this.$route.path&&this.$router.push({path:"/feed"}),this.notifyLogin()},methods:{notifyLogin:function(){this.loginToken||this.$router.push({path:"/login"})}}},I=g,v=(n("4f1f"),n("b0a0"),Object(p["a"])(I,s,r,!1,null,"6356fb5c",null)),T=v.exports,k=n("8c4f"),C=(n("a434"),n("4de4"),n("159b"),n("2f62"));o["a"].use(C["a"]);var U=new C["a"].Store({state:{loginToken:d.a.get("loginToken"),currentUserInfo:d.a.get("currentUserInfo"),allUsers:void 0,allTweets:void 0,followingUsers:void 0,followingTweets:void 0,currentUserTweets:void 0,tweetLikes:{},commentLikes:{}},mutations:{updateAllUsers:function(e,t){e.allUsers=t},updateFollowingUsers:function(e,t){e.followingUsers=t},updateFollowingTweets:function(e,t){e.followingTweets=t},addUserToFollowing:function(e,t){if(void 0!==e.followingUsers)e.followingUsers.push(t);else{var n=[];n.push(t),e.followingUsers=n}},removeUserFromFollowing:function(e,t){e.followingUsers.splice(t,1)},updateCurrentUserInfo:function(e,t){e.currentUserInfo=t,d.a.set("currentUserInfo",t)},updateLoginToken:function(e,t){e.loginToken=t},addCurrentToFollowing:function(e){e.followingUsers.push(e.currentUserInfo)},addLikeToTweetLikes:function(e,t){o["a"].set(e.tweetLikes,t.tweetId,t.likes)},likeTweet:function(e,t){var n=e.tweetLikes[t.tweetId];n.push(t.like),o["a"].set(e.tweetLikes,t.tweetId,n)},removeLikeFromTweetLikes:function(e,t){var n=e.tweetLikes[t.tweetId];function s(n){for(var o=0;o<n.length;o++)n[o].userId!=e.currentUserInfo.userId&&n.push(t.like)}var r=n.filter(s);o["a"].set(e.tweetLikes,t.tweetId,r)},addLikeToCommentLikes:function(e,t){o["a"].set(e.commentLikes,t.commentId,t.likes)},likeComment:function(e,t){var n=e.commentLikes[t.commentId];n.push(t.like),o["a"].set(e.commentLikes,t.commentId,n)},removeLikeFromCommentLikes:function(e,t){var n=e.commentLikes[t.commentId];function s(n){for(var o=0;o<n.length;o++)n[o].userId!=e.currentUserInfo.userId&&n.push(t.like)}var r=n.filter(s);o["a"].set(e.commentLikes,t.commentId,r)},updateCurrentUserTweets:function(e,t){e.currentUserTweets=t},updateAllTweets:function(e,t){e.allTweets=t},addTweetToCurrentTweets:function(e,t){if(void 0!==e.currentUserTweets)e.currentUserTweets.push(t);else{var n=[];n.push(t),e.currentUserTweets=n}},addTweetToAllTweets:function(e,t){if(void 0!==e.allTweets)e.allTweets.push(t);else{var n=[];n.push(t),e.allTweets=n}},removeTweetFromCurrentTweets:function(e,t){e.currentUserTweets.splice(t,1)},removeTweetFromAllUsersTweets:function(e,t){e.allTweets.splice(t,1)}},actions:{getFollowingTweets:function(e){l.a.request({url:"api/followingTweets",headers:{"Content-Type":"application/json",loginToken:e.state.loginToken}}).then((function(t){e.commit("updateFollowingTweets",t.data)})).catch((function(e){console.log(e)}))},viewMyTweets:function(e){l.a.request({url:"api/tweets",method:"GET",headers:{"Content-Type":"application/json"},params:{userId:e.state.currentUserInfo.userId}}).then((function(t){e.commit("updateCurrentUserTweets",t.data)})).catch((function(e){console.log(e)}))},getAllTweets:function(e){l.a.request({url:"api/tweets",headers:{"Content-Type":"application/json"}}).then((function(t){e.commit("updateAllTweets",t.data)})).catch((function(e){console.log(e)}))},getAllUsers:function(e){l.a.request({url:"api/users",headers:{"Content-Type":"application/json"}}).then((function(t){e.commit("updateAllUsers",t.data)})).catch((function(e){console.log(e)}))}},getters:{currentAndFollowing:function(e){var t=[];return void 0===e.followingTweets||void 0===e.currentUserTweets?t:(e.followingTweets.forEach((function(e){return t.push(e)})),e.currentUserTweets.forEach((function(e){return t.push(e)})),t.sort((function(e,t){return Date.parse(t.createdAt)-Date.parse(e.createdAt)})))},sortedCurrentTweets:function(e){var t=[];return void 0===e.currentUserTweets?t:e.currentUserTweets.sort((function(e,t){return Date.parse(t.createdAt)-Date.parse(e.createdAt)}))},sortedAllTweets:function(e){var t=[];return void 0===e.allTweets?t:e.allTweets.sort((function(e,t){return Date.parse(t.createdAt)-Date.parse(e.createdAt)}))}}}),_=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"pageContainer"},[n("h1",[e._v("Discover")]),n("post-tweet"),n("all-tweets")],1)])},b=[],L=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"cardContainer"},[n("article",{staticClass:"tweetCardContainer"},e._l(e.sortedAllTweets,(function(t){return n("div",{key:t.tweetId,staticClass:"tweetCard",attrs:{id:"tweetContainer"+t.tweetId,userId:t.userId,tweetId:t.tweetId}},[n("h3",[n("router-link",{staticClass:"username",attrs:{to:"/profile/"+t.userId}},[e._v(" "+e._s(t.username)+" ")])],1),n("div",{attrs:{id:"sectContain"}},[n("p",{staticClass:"createdAt"},[e._v(e._s(t.createdAt))])]),n("edit-tweet",{attrs:{tweetId:t.tweetId,userId:t.userId}}),n("div",{staticClass:"cmtContain"},[n("tweet-comments",{attrs:{tweetId:t.tweetId}})],1),n("p",{staticClass:"content"},[e._v(e._s(t.content))]),t.userId===e.currentUserInfo.userId?n("div",[n("div",{staticClass:"tweetActionsContainer"},[n("like-tweet",{attrs:{tweetId:t.tweetId}}),n("delete-tweet",{attrs:{tweetId:t.tweetId,userId:t.userId}})],1)]):e._e(),t.userId!==e.currentUserInfo.userId?n("div",[n("div",{staticClass:"otherUserTweetActions"},[n("like-tweet",{attrs:{tweetId:t.tweetId}})],1)]):e._e()],1)})),0)])},$=[],y=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{attrs:{id:"deleteTweetCont"}},[Number(e.currentUserInfo.userId)===Number(e.userId)?o("img",{staticClass:"actionIcon",attrs:{src:n("311a"),alt:"recycle bin icon - delete tweet button"},on:{click:function(t){return e.deleteTweet(e.tweetId)}}}):e._e()])},E=[],O=(n("a9e3"),{name:"delete-tweet",data:function(){return{currentUserInfo:d.a.get("currentUserInfo"),loginToken:d.a.get("loginToken")}},props:{tweetId:Number,userId:Number},computed:{currentUserTweets:function(){return this.$store.state.currentUserTweets},allTweets:function(){return this.$store.state.allTweets}},methods:{deleteTweet:function(e){var t=this;l.a.request({url:"api/tweets",method:"DELETE",headers:{"Content-Type":"application/json"},data:{loginToken:this.loginToken,tweetId:e}}).then((function(n){for(var o=0;o<t.currentUserTweets.length;o++)t.currentUserTweets[o].tweetId===e&&t.$store.commit("removeTweetFromCurrentTweets",o);for(var s=0;s<t.allTweets.length;s++)t.allTweets[s].tweetId===e&&t.$store.commit("removeTweetFromAllUsersTweets",s)})).catch((function(e){console.log(e)}))}}}),x=O,j=Object(p["a"])(x,y,E,!1,null,"41f6c16c",null),P=j.exports,A=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"cmtContain"},[!1===e.toggleEditOn&&Number(e.currentUserInfo.userId)===Number(e.userId)?o("p",{attrs:{id:"viewCmt"},on:{click:function(t){e.toggleEditOn=!0}}},[e._v(" Edit Post ")]):e._e(),!0===e.toggleEditOn?o("div",{staticClass:"tweetCommentsContainer"},[o("img",{staticClass:"actionIcon",attrs:{id:"cancel",src:n("2930"),alt:"black x - cancel icon"},on:{click:function(t){e.toggleEditOn=!e.toggleEditOn}}}),o("div",{attrs:{id:"postCommentContainer"}},[o("textarea",{attrs:{name:"editTweet",id:"editTweet",placeholder:"max 200 characters"}}),o("div",{attrs:{id:"btnsContainer"}},[o("button",{attrs:{id:"postBtn"},on:{click:e.editTweet}},[e._v("Edit")])])])]):e._e()])},F=[],S={name:"edit-tweet",data:function(){return{loginToken:d.a.get("loginToken"),toggleEditOn:!1,currentUserInfo:d.a.get("currentUserInfo"),successMsg:""}},props:{tweetId:Number,userId:Number},computed:{currentUserTweets:function(){return this.$store.state.currentUserTweets},allTweets:function(){return this.$store.state.allTweets}},methods:{editTweet:function(){var e=this;this.toggleEditOn=!1,l.a.request({url:"api/tweets",method:"PATCH",headers:{"Content-Type":"application/json"},data:{loginToken:this.loginToken,tweetId:this.tweetId,content:document.getElementById("editTweet").value}}).then((function(t){e.editTweetViewOn=!1;for(var n=0;n<e.currentUserTweets.length;n++){e.currentUserTweets[n].tweetId===e.tweetId&&(e.currentUserTweets[n].content=t.data.content,e.$store.commit("updateCurrentUserTweets",e.currentUserTweets));for(var o=0;o<e.allTweets.length;o++)e.allTweets[o].tweetId===e.tweetId&&(e.allTweets[o].content=t.data.content),e.$store.commit("updateAllTweets",e.allTweets)}})).catch((function(e){console.log(e)}))}}},B=S,D=(n("819c"),Object(p["a"])(B,A,F,!1,null,"7b42afdc",null)),q=D.exports,N=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{attrs:{id:"pageContainer"}},[0==e.commentViewOn?o("p",{attrs:{id:"viewCmt"},on:{click:e.getComments}},[e._v(" Comments ")]):o("div",{staticClass:"cmtContain"},[o("div",{staticClass:"tweetCommentsContainer"},[o("img",{staticClass:"actionIcon",attrs:{id:"cancel",src:n("2930"),alt:"black x - cancel icon"},on:{click:function(t){e.commentViewOn=!1}}}),e._l(e.tweetComments,(function(t){return o("div",{key:t.commentId,staticClass:"cmtInfo"},[o("h3",{staticClass:"username"},[e._v(e._s(t.username))]),o("p",{staticClass:"createdAt"},[e._v(e._s(t.createdAt))]),o("edit-comment",{attrs:{commentId:t.commentId,userId:t.userId},on:{newlyEditedComment:e.handleEditUpdate}}),o("p",{staticClass:"content"},[e._v(e._s(t.content))]),o("div",{staticClass:"tweetActionsContainer"},[o("like-comment",{attrs:{commentId:t.commentId}}),o("delete-comment",{attrs:{tweetComments:e.tweetComments,userId:t.userId,commentId:t.commentId},on:{commentsAfterDelete:e.handleDeleteComment}})],1)],1)})),o("post-comment",{attrs:{tweetId:e.tweetId},on:{newlyPostedComment:e.handleNewComment}})],2)])])},V=[],M=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{attrs:{id:"editCommentContainer"}},[!1===e.editViewOn&&e.currentUserInfo.userId===e.userId?o("p",{attrs:{id:"viewCmt"},on:{click:function(t){e.editViewOn=!0}}},[e._v(" Edit Comment ")]):e._e(),!0===e.editViewOn?o("div",{attrs:{id:"postCommentContainer"}},[o("p",{attrs:{id:"editHeader"}},[e._v("Edit comment:")]),o("textarea",{attrs:{name:"editComment",id:"editComment"+e.commentId,placeholder:"max 150 characters"}}),o("div",{attrs:{id:"btnContain"}},[o("img",{staticClass:"actionIcon",attrs:{src:n("2930"),alt:"black x - cancel icon"},on:{click:function(t){e.editViewOn=!1}}}),o("button",{attrs:{id:"postBtn"},on:{click:e.editComment}},[e._v("Post")])])]):e._e()])},Y=[],H={name:"edit-comment",data:function(){return{editViewOn:!1,loginToken:d.a.get("loginToken"),currentUserInfo:d.a.get("currentUserInfo")}},props:{commentId:Number,userId:Number},methods:{editComment:function(){var e=this;this.editViewOn=!1,l.a.request({url:"api/comments",method:"PATCH",headers:{"Content-Type":"application/json"},data:{loginToken:this.loginToken,commentId:this.commentId,content:document.getElementById("editComment"+this.commentId).value}}).then((function(t){e.$emit("newlyEditedComment",t.data)})).catch((function(e){console.log(e)}))}}},G=H,J=(n("a4e0"),Object(p["a"])(G,M,Y,!1,null,"279ed5e0",null)),R=J.exports,z=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"postCommentContainer"}},[n("p",{attrs:{id:"postHeader"}},[e._v("Post a comment:")]),n("textarea",{attrs:{name:"tweetComment",id:"makeComment",cols:"30",rows:"5",maxlength:"150",minlength:"1",placeholder:"max 150 characters"}}),n("button",{attrs:{id:"postBtn"},on:{click:e.postComment}},[e._v("Post")])])},K=[],Q={name:"post-comment",data:function(){return{loginToken:d.a.get("loginToken"),commentViewOn:!1}},props:{commentId:Number,tweetId:Number},methods:{postComment:function(){var e=this;l.a.request({url:"api/comments",method:"POST",headers:{"Content-Type":"application/json"},data:{loginToken:this.loginToken,tweetId:this.tweetId,content:document.getElementById("makeComment").value}}).then((function(t){e.$emit("newlyPostedComment",t.data),document.getElementById("makeComment").value=""})).catch((function(e){console.log(e)}))}}},W=Q,X=(n("577d"),Object(p["a"])(W,z,K,!1,null,"3c25db2e",null)),Z=X.exports,ee=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{attrs:{id:"deleteTweetCont"}},[!1===e.toggleDeleteOn&&Number(e.currentUserInfo.userId)===Number(e.userId)?o("img",{staticClass:"actionIcon",attrs:{src:n("311a"),alt:"recycle bin icon - delete tweet button"},on:{click:e.deleteComment}}):e._e()])},te=[],ne={name:"delete-comment",data:function(){return{toggleDeleteOn:!1,loginToken:d.a.get("loginToken"),currentUserInfo:d.a.get("currentUserInfo")}},props:{userId:Number,tweetComments:Array,commentId:Number},computed:{},methods:{deleteComment:function(){var e=this;l.a.request({url:"api/comments",method:"DELETE",headers:{"Content-Type":"application/json"},data:{loginToken:this.loginToken,commentId:this.commentId}}).then((function(t){for(var n=0;n<e.tweetComments.length;n++)e.tweetComments[n].commentId===e.commentId&&(e.tweetComments.splice(n,1),e.$emit("commentsAfterDelete",e.tweetComments))})).catch((function(t){console.log(e.tweetComments),console.log(t)}))}}},oe=ne,se=(n("47cf"),Object(p["a"])(oe,ee,te,!1,null,"0a316340",null)),re=se.exports,ie=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"likesContainer"},[!1===e.commentLiked?o("img",{staticClass:"actionIcon",attrs:{src:n("7720"),alt:"hand drawn heart dark green - like button"},on:{click:e.likeComment}}):o("img",{staticClass:"actionIcon",attrs:{src:n("c4d2"),alt:"hand drawn heart light green - unlike btn"},on:{click:e.unlikeComment}}),o("p",[e._v("Likes: "+e._s(e.numLikes))])])},ae=[],ce={name:"like-comment",props:{commentId:Number},data:function(){return{loginToken:d.a.get("loginToken"),commentLiked:!1,currentUserInfo:d.a.get("currentUserInfo"),numLikes:0}},computed:{commentLikes:function(){return this.$store.state.commentLikes}},mounted:function(){void 0===this.commentLikes[this.commentId]?this.viewCommentLikes(this.commentId):(this.checkCommentLiked(),this.numLikes=this.commentLikes[this.commentId].length)},methods:{checkCommentLiked:function(){for(var e=0;e<this.commentLikes[this.commentId].length;e++)this.currentUserInfo.userId===this.commentLikes[this.commentId][e].userId&&this.commentLikes[this.commentId][e].commentId===this.commentId&&(this.commentLiked=!0)},viewCommentLikes:function(e){var t=this;l.a.request({url:"api/comment-likes",headers:{"Content-Type":"application/json"},params:{commentId:e}}).then((function(n){t.$store.commit("addLikeToCommentLikes",{commentId:e,likes:n.data}),t.checkCommentLiked(),t.numLikes=t.commentLikes[t.commentId].length})).catch((function(e){console.log(e)}))},likeComment:function(){var e=this;this.commentLiked=!0,l.a.request({url:"api/comment-likes",method:"POST",headers:{"Content-Type":"application/json"},data:{loginToken:this.loginToken,commentId:this.commentId}}).then((function(t){e.numLikes+=1,e.$store.commit("likeComment",{commentId:e.commentId,like:t.data})})).catch((function(e){console.log(e)}))},unlikeComment:function(){var e=this;this.commentLiked=!1,l.a.request({url:"api/comment-likes",method:"DELETE",headers:{"Content-Type":"application/json"},data:{loginToken:this.loginToken,commentId:this.commentId}}).then((function(t){e.numLikes-=1,e.$store.commit("removeLikeFromCommentLikes",{commentId:e.commentId,like:t.data})})).catch((function(e){console.log(e)}))}}},le=ce,ue=(n("2d2a"),Object(p["a"])(le,ie,ae,!1,null,"6ab7324a",null)),de=ue.exports,me={components:{EditComment:R,PostComment:Z,DeleteComment:re,LikeComment:de},name:"tweet-comments",data:function(){return{loginToken:d.a.get("loginToken"),tweetComments:[],commentViewOn:!1}},props:{tweetId:Number},methods:{handleNewComment:function(e){this.tweetComments.push(e)},handleEditUpdate:function(e){for(var t=0;t<this.tweetComments.length;t++)this.tweetComments[t].commentId===e.commentId&&(this.tweetComments[t].content=e.content)},handleDeleteComment:function(e){},getComments:function(){var e=this;this.commentViewOn=!0,l.a.request({url:"api/comments",headers:{"Content-Type":"application/json"},params:{tweetId:this.tweetId}}).then((function(t){e.tweetComments=t.data})).catch((function(e){console.log(e)}))}}},fe=me,pe=(n("fd00"),Object(p["a"])(fe,N,V,!1,null,"4f7d1205",null)),he=pe.exports,we=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"likesContainer"},[!1===e.tweetLiked?o("img",{staticClass:"actionIcon",attrs:{src:n("7720"),alt:"hand drawn heart dark green - like button"},on:{click:e.likeTweet}}):o("img",{staticClass:"actionIcon",attrs:{src:n("c4d2"),alt:"hand drawn heart light green - unlike btn"},on:{click:e.unlikeTweet}}),o("p",[e._v("Likes: "+e._s(this.numLikes))])])},ge=[],Ie={name:"like-tweet",data:function(){return{loginToken:d.a.get("loginToken"),currentUserInfo:d.a.get("currentUserInfo"),tweetLiked:!1,numLikes:0}},props:{tweetId:Number},computed:{tweetLikes:function(){return this.$store.state.tweetLikes}},mounted:function(){void 0===this.tweetLikes[this.tweetId]?this.viewTweetLikes(this.tweetId):(this.checkTweetLiked(),this.numLikes=this.tweetLikes[this.tweetId].length)},methods:{checkTweetLiked:function(){for(var e=0;e<this.tweetLikes[this.tweetId].length;e++)this.currentUserInfo.userId===this.tweetLikes[this.tweetId][e].userId&&this.tweetLikes[this.tweetId][e].tweetId===this.tweetId&&(this.tweetLiked=!0)},viewTweetLikes:function(e){var t=this;l.a.request({url:"api/tweet-likes",headers:{"Content-Type":"application/json"},params:{tweetId:e}}).then((function(e){t.$store.commit("addLikeToTweetLikes",{tweetId:t.tweetId,likes:e.data}),t.checkTweetLiked(),t.numLikes=t.tweetLikes[t.tweetId].length})).catch((function(e){console.log(e)}))},likeTweet:function(){var e=this;this.tweetLiked=!0,l.a.request({url:"api/tweet-likes",method:"POST",headers:{"Content-Type":"application/json"},data:{loginToken:this.loginToken,tweetId:this.tweetId}}).then((function(t){e.numLikes+=1,e.$store.commit("likeTweet",{tweetId:e.tweetId,like:t.data})})).catch((function(e){console.log(e)}))},unlikeTweet:function(){var e=this;this.tweetLiked=!1,l.a.request({url:"api/tweet-likes",method:"DELETE",headers:{"Content-Type":"application/json"},data:{loginToken:this.loginToken,tweetId:this.tweetId}}).then((function(t){e.numLikes-=1,e.$store.commit("removeLikeFromTweetLikes",{tweetId:e.tweetId,like:t.data})})).catch((function(e){console.log(e)}))}}},ve=Ie,Te=(n("20d2"),Object(p["a"])(ve,we,ge,!1,null,"378f65fd",null)),ke=Te.exports,Ce={name:"all-tweets",components:{DeleteTweet:P,EditTweet:q,TweetComments:he,LikeTweet:ke},data:function(){return{loginToken:d.a.get("loginToken"),currentUserInfo:d.a.get("currentUserInfo")}},mounted:function(){void 0===this.$store.state.allTweets&&this.$store.dispatch("getAllTweets")},computed:{allTweets:function(){return this.$store.state.allTweets},sortedAllTweets:function(){return this.$store.getters.sortedAllTweets},tweetLikes:function(){return this.$store.state.tweetLikes}}},Ue=Ce,_e=Object(p["a"])(Ue,L,$,!1,null,"814eb73c",null),be=_e.exports,Le=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("section",{attrs:{id:"postTweetContainer"}},[n("p",[e._v(e._s(e.submitStatus))]),n("h3",[e._v("Make Post")]),n("textarea",{attrs:{name:"postTweet",id:"postTweet",placeholder:"max 200 characters",maxlength:"200",minlength:"1",required:""}}),n("button",{attrs:{id:"postBtn"},on:{click:e.postTweet}},[e._v("Post")])])])},$e=[],ye={name:"post-tweet",data:function(){return{loginToken:d.a.get("loginToken"),submitStatus:""}},computed:{currentUserTweets:function(){return this.$store.state.currentUserTweets},allTweets:function(){return this.$store.state.allTweets}},methods:{postTweet:function(){var e=this;""!==document.getElementById("postTweet").value?l.a.request({url:"api/tweets",method:"POST",headers:{"Content-Type":"application/json"},data:{loginToken:this.loginToken,content:document.getElementById("postTweet").value}}).then((function(t){e.$store.commit("addTweetToCurrentTweets",t.data),e.$store.commit("addTweetToAllTweets",t.data),document.getElementById("postTweet").value=""})).catch((function(e){console.log(e)})):""===document.getElementById("postTweet").value&&(this.submitStatus="Your post has no content!",setTimeout((function(){e.submitStatus=""}),1e3))}}},Ee=ye,Oe=(n("5795"),Object(p["a"])(Ee,Le,$e,!1,null,"6a09b7b4",null)),xe=Oe.exports,je={components:{AllTweets:be,PostTweet:xe},data:function(){return{allUsers:[]}},methods:{}},Pe=je,Ae=Object(p["a"])(Pe,_,b,!1,null,"c4a2b7c4",null),Fe=Ae.exports,Se=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"pageContainer"},[n("h1",[e._v("News Feed")]),n("post-tweet"),n("all-tweets-follow")],1)])},Be=[],De=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"cardContainer"},[0===e.currentAndFollowing.length?n("h4",[e._v(" Go to the users page to follow some users! ")]):e._e(),n("article",{staticClass:"tweetCardContainer"},e._l(e.currentAndFollowing,(function(t){return n("div",{key:t.tweetId,staticClass:"tweetCard"},[n("h3",{staticClass:"username"},[e._v(e._s(t.username))]),n("div",{attrs:{id:"sectContain"}},[n("p",{staticClass:"createdAt"},[e._v(e._s(t.createdAt))])]),n("edit-tweet",{attrs:{tweetId:t.tweetId,userId:t.userId}}),n("div",{staticClass:"cmtContain"},[n("tweet-comments",{attrs:{tweetId:t.tweetId}})],1),n("p",{staticClass:"content"},[e._v(e._s(t.content))]),t.userId===e.currentUserInfo.userId?n("div",[n("div",{staticClass:"tweetActionsContainer"},[n("like-tweet",{attrs:{tweetId:t.tweetId}}),n("delete-tweet",{attrs:{tweetId:t.tweetId,userId:t.userId}})],1)]):e._e(),t.userId!==e.currentUserInfo.userId?n("div",[n("div",{staticClass:"otherUserTweetActions"},[n("like-tweet",{attrs:{tweetId:t.tweetId}})],1)]):e._e()],1)})),0)])},qe=[],Ne={name:"all-tweets-follow",components:{DeleteTweet:P,EditTweet:q,TweetComments:he,LikeTweet:ke},mounted:function(){void 0===this.$store.state.followingTweets&&this.$store.dispatch("getFollowingTweets"),void 0===this.$store.state.currentUserTweets&&this.$store.dispatch("viewMyTweets")},computed:{currentAndFollowing:function(){return this.$store.getters.currentAndFollowing},currentUserInfo:function(){return this.$store.state.currentUserInfo},tweetLikes:function(){return this.$store.state.tweetLikes}},methods:{sortCurrentAndFollowing:function(){return this.currentAndFollowing.sort((function(e,t){return t.tweetId-e.tweetId}))},addToCurrentAndFollowing:function(e){for(var t=0;t<e.length;t++)this.currentAndFollowing.push(e[t])}}},Ve=Ne,Me=Object(p["a"])(Ve,De,qe,!1,null,"29a4f44a",null),Ye=Me.exports,He={components:{PostTweet:xe,AllTweetsFollow:Ye}},Ge=He,Je=Object(p["a"])(Ge,Se,Be,!1,null,"8e1e9596",null),Re=Je.exports,ze=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("h4",{attrs:{id:"loginStatus"}},[e._v(e._s(e.loginStatus))]),n("div",{attrs:{id:"formsContainer"}},[n("login-form"),n("sign-up-form")],1)])},Ke=[],Qe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"pageContainer"},[e._m(0),n("div",{attrs:{id:"successContainer"}}),n("div",{attrs:{id:"loginFormContainer"}},[n("h3",[e._v("Login")]),n("h4",[e._v(e._s(e.loginStatus))]),n("form",{attrs:{id:"loginForm",action:"javascript:void(0)"}},[n("input",{attrs:{type:"text",id:"emailInputLogin",name:"emailInput",placeholder:"Email",required:""}}),n("input",{attrs:{type:"password",id:"passwordInputLogin",name:"passwordInput",placeholder:"Password",required:""}}),n("button",{attrs:{id:"loginBtn"},on:{click:e.attemptLogin}},[e._v(" Login ")])])])])},We=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"introInfo"}},[n("h3",[e._v("Crafting a greener world")]),n("p",[e._v(" A platform on which to share sustainability tips, products, and information ")])])}],Xe={name:"login-form",computed:{loginToken:function(){return this.$store.state.loginToken},currentUserInfo:function(){return this.$store.state.currentUserInfo}},data:function(){return{loginStatus:""}},methods:{navigateToFeed:function(){this.$router.push({path:"/feed"})},attemptLogin:function(){var e=this;l.a.request({url:"api/login",method:"POST",headers:{"Content-Type":"application/json"},data:{email:document.getElementById("emailInputLogin").value,password:document.getElementById("passwordInputLogin").value}}).then((function(t){e.loginStatus="Logging in...",d.a.set("currentUserInfo",t.data),e.$store.commit("updateCurrentUserInfo",t.data),d.a.set("loginToken",t.data.loginToken),e.$store.commit("updateLoginToken",d.a.get("loginToken")),e.navigateToFeed(),e.loginStatus="Logged in! Redirecting..."})).catch((function(t){console.log(t),e.loginStatus="Sorry, an error occurred. Please try again"}))}}},Ze=Xe,et=(n("f378"),Object(p["a"])(Ze,Qe,We,!1,null,"4c5dbc42",null)),tt=et.exports,nt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",[n("h3",[e._v("New here? Create an account")]),n("h4",[e._v(e._s(e.loginStatus))]),n("form",{attrs:{action:"javascript:void(0)"}},[n("input",{attrs:{type:"text",id:"emailInput",placeholder:"Email",required:""}}),n("input",{attrs:{type:"text",id:"usernameInput",placeholder:"Username",required:""}}),n("input",{attrs:{type:"password",id:"passwordInput",placeholder:"Password",required:""}}),n("textarea",{attrs:{name:"bioInput",id:"bioInput",placeholder:"User Bio",required:""}}),n("label",{attrs:{for:"birthdateInput"}},[e._v("Birthdate")]),n("input",{attrs:{type:"text",id:"userBirthdate",name:"birthdateInput",placeholder:"YYYY-MM-DD",required:""}}),n("button",{attrs:{id:"signupBtn"},on:{click:e.userSignup}},[e._v("Sign Up")])])])},ot=[],st={name:"sign-up-form",data:function(){return{loginStatus:""}},computed:{currentUserInfo:function(){return this.$store.state.currentUserInfo}},methods:{navigateToProfile:function(){this.$router.push({path:"/profile/".concat(this.currentUserInfo.userId)})},userSignup:function(){var e=this;l.a.request({url:"api/users",method:"POST",headers:{"Content-Type":"application/json"},data:{email:document.getElementById("emailInput").value,username:document.getElementById("usernameInput").value,password:document.getElementById("passwordInput").value,bio:document.getElementById("bioInput").value,birthdate:document.getElementById("userBirthdate").value}}).then((function(t){console.log(t.data),setTimeout(e.navigateToProfile,1500),d.a.set("currentUserInfo",t.data),d.a.set("loginToken",t.data.loginToken),e.$store.commit("updateCurrentUserInfo",t.data),e.$store.commit("updateLoginToken",t.data.loginToken),e.loginStatus="You've signed up! Logging you in..."})).catch((function(t){e.loginStatus="Sorry, signup was incomplete. Please try again.",console.log(t)}))}}},rt=st,it=(n("b27b"),Object(p["a"])(rt,nt,ot,!1,null,"43faea28",null)),at=it.exports,ct={data:function(){return{loginStatus:""}},components:{LoginForm:tt,SignUpForm:at}},lt=ct,ut=(n("fe48"),Object(p["a"])(lt,ze,Ke,!1,null,"6da4a6dc",null)),dt=ut.exports,mt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"pageContainer"},[Number(e.paramId)===Number(e.currentUserInfo.userId)?n("current-user"):n("other-user-profile",{attrs:{userId:Number(e.paramId)}})],1)},ft=[],pt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"pageContainer"},[n("div",{staticClass:"profileContents"},[n("h1",[e._v("Your Profile")]),n("h2",[e._v(e._s(e.currentUserInfo.username))]),n("h5",[e._v("Birthdate: "+e._s(e.currentUserInfo.birthdate))]),n("h5",[e._v(e._s(e.currentUserInfo.email))]),n("p",{staticClass:"bio"},[e._v(e._s(e.currentUserInfo.bio))]),n("div",{attrs:{id:"iconsContainer"}},[n("edit-profile-form"),n("delete-profile")],1)]),n("post-tweet"),n("current-user-tweets")],1)},ht=[],wt=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("section",[!1===e.toggleEditOn?o("img",{staticClass:"actionIcon",attrs:{src:n("b0e3"),alt:"pencil icon - edit button"},on:{click:function(t){e.toggleEditOn=!0}}}):e._e(),!0===e.toggleEditOn?o("div",{staticClass:"tweetCard"},[o("form",{attrs:{action:"javascript:void(0)"}},[o("p",[e._v("All fields not required")]),o("input",{attrs:{type:"text",id:"editUsername",name:"usernameInput",placeholder:"Update Username"}}),o("input",{attrs:{type:"text",id:"editEmail",name:"emailInput",placeholder:"Update Email"}}),o("input",{attrs:{type:"password",id:"editPassword",name:"passwordInput",placeholder:"Update Password"}}),o("input",{attrs:{type:"text",id:"editBirthdate",name:"birthdateInput",placeholder:"Update Birthdate (YYYY-MM-DD)"}}),o("textarea",{attrs:{name:"bioInput",id:"editBio",placeholder:"Update Bio"}}),o("div",{attrs:{id:"btnContain"}},[o("img",{staticClass:"actionIcon",attrs:{src:n("2930"),alt:"black x - cancel icon"},on:{click:function(t){e.toggleEditOn=!1}}}),o("button",{attrs:{id:"updateBtn"},on:{click:e.editUserProfile}},[e._v("Save")])])])]):e._e(),o("h4",[e._v(e._s(e.loginStatus))])])},gt=[],It={name:"edit-profile-form",data:function(){return{loginStatus:"",loginToken:d.a.get("loginToken"),toggleEditOn:!1}},computed:{currentUserInfo:function(){return this.$store.state.currentUserInfo}},methods:{editUserProfile:function(){var e=this;l.a.request({url:"api/users",method:"PATCH",headers:{"Content-Type":"application/json"},data:{username:document.getElementById("editUsername").value,email:document.getElementById("editEmail").value,password:document.getElementById("editPassword").value,bio:document.getElementById("editBio").value,birthdate:document.getElementById("editBirthdate").value,loginToken:this.loginToken}}).then((function(t){e.loginStatus="Profile updated!",d.a.set("currentUserInfo",t.data),e.$store.commit("updateCurrentUserInfo",t.data),e.toggleEditOn=!1})).catch((function(e){console.log(e)}))}}},vt=It,Tt=(n("ebc5"),Object(p["a"])(vt,wt,gt,!1,null,"dda0c73c",null)),kt=Tt.exports,Ct=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("section",[o("h4",[e._v(e._s(e.loginStatus))]),!1===e.toggleDeleteOn?o("img",{staticClass:"actionIcon",attrs:{src:n("311a"),alt:"recycle bin icon - delete tweet button"},on:{click:function(t){e.toggleDeleteOn=!0}}}):e._e(),!0===e.toggleDeleteOn?o("div",{staticClass:"tweetCard"},[e._v(" Confirm password to delete profile: "),o("input",{attrs:{type:"password",id:"passwordInputDelete",name:"passwordInput",placeholder:"Password",required:""}}),o("div",{attrs:{id:"btnsContainer"}},[o("img",{staticClass:"actionIcon",attrs:{src:n("2930"),alt:"black x - cancel icon"},on:{click:function(t){e.toggleDeleteOn=!1}}}),o("button",{attrs:{id:"deleteBtn"},on:{click:e.deleteProfile}},[e._v("Confirm")])])]):e._e()])},Ut=[],_t={name:"delete-profile",data:function(){return{loginStatus:"",toggleDeleteOn:!1}},computed:{loginToken:function(){return this.$store.state.loginToken},userPassword:function(){return this.$store.state.userPassword}},methods:{navigateToLogin:function(){this.$router.push({name:"Login"})},deleteProfile:function(){var e=this;l.a.request({url:"api/users",method:"DELETE",headers:{"Content-Type":"application/json"},data:{loginToken:this.loginToken,password:document.getElementById("passwordInputDelete").value}}).then((function(t){setTimeout(e.navigateToLogin,1500),d.a.remove("loginToken"),e.$store.commit("updateLoginToken",""),d.a.remove("currentUserInfo"),e.$store.commit("updateCurrentUserInfo",void 0),e.loginStatus="Profile deleted! Redirecting..."})).catch((function(t){console.log(t),e.loginStatus="Sorry, an error occurred. Please try again."}))}}},bt=_t,Lt=(n("f141"),Object(p["a"])(bt,Ct,Ut,!1,null,"580c8d3a",null)),$t=Lt.exports,yt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"pageContainer"},[n("article",{staticClass:"tweetCardContainer"},[void 0===e.currentUserTweets?n("h4",[e._v(" Get started with your first post! ")]):e._e(),e._l(e.sortedCurrentTweets,(function(t){return n("div",{key:t.tweetId,staticClass:"cardContainer",attrs:{id:"tweetContainer"+t.tweetId}},[n("div",{staticClass:"tweetCard"},[e.$route.path!=="/profile/"+e.currentUserInfo.userId?n("h3",{staticClass:"username"},[n("router-link",{attrs:{to:"/profile/"+e.currentUserInfo.userId}},[e._v(" "+e._s(t.username)+" ")])],1):n("h3",{staticClass:"username"},[e._v(e._s(t.username))]),n("div",{attrs:{id:"sectContain"}},[n("p",{staticClass:"createdAt"},[e._v(e._s(t.createdAt))])]),n("edit-tweet",{attrs:{userId:t.userId,tweetId:t.tweetId}}),n("div",{staticClass:"cmtContain"},[n("tweet-comments",{attrs:{tweetId:t.tweetId}})],1),n("p",{staticClass:"content"},[e._v(e._s(t.content))]),n("div",{staticClass:"tweetActionsContainer"},[n("like-tweet",{attrs:{tweetId:t.tweetId}}),n("delete-tweet",{attrs:{userId:t.userId,tweetId:t.tweetId}})],1)],1)])}))],2)])},Et=[],Ot={components:{EditTweet:q,DeleteTweet:P,TweetComments:he,LikeTweet:ke},name:"current-user-tweets",data:function(){return{currentUserInfo:d.a.get("currentUserInfo")}},mounted:function(){void 0===this.$store.state.currentUserTweets&&this.$store.dispatch("viewMyTweets")},computed:{sortedCurrentTweets:function(){return this.$store.getters.sortedCurrentTweets},currentUserTweets:function(){return this.$store.state.currentUserTweets},tweetLikes:function(){return this.$store.state.tweetLikes}}},xt=Ot,jt=Object(p["a"])(xt,yt,Et,!1,null,"4828cccc",null),Pt=jt.exports,At={components:{EditProfileForm:kt,DeleteProfile:$t,CurrentUserTweets:Pt,PostTweet:xe},name:"current-user",data:function(){return{toggleDeleteOn:!1,toggleEditOn:!1}},computed:{currentUserInfo:function(){return this.$store.state.currentUserInfo}}},Ft=At,St=(n("35b1"),Object(p["a"])(Ft,pt,ht,!1,null,"26be13a8",null)),Bt=St.exports,Dt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"pageContainer"},e._l(e.userProfile,(function(t){return n("div",{key:t.userId},[n("h2",[e._v(e._s(t.username))]),n("h3",[e._v(e._s(t.birthdate))]),n("h4",[e._v(e._s(t.bio))]),n("p",[e._v(e._s(t.email))]),n("router-link",{staticClass:"navUserProf",attrs:{to:"/users"}},[n("p",[e._v("Back to all users")])])],1)})),0)},qt=[],Nt={name:"other-user-profile",data:function(){return{userProfile:[]}},props:{userId:Number},mounted:function(){this.viewUserProfile()},methods:{viewUserProfile:function(){var e=this;l.a.request({url:"api/users",headers:{"Content-Type":"application/json"},params:{userId:this.userId}}).then((function(t){e.userProfile=t.data})).catch((function(t){console.log(t),console.log(e.userProfile)}))}}},Vt=Nt,Mt=(n("e429"),Object(p["a"])(Vt,Dt,qt,!1,null,"43dc17a0",null)),Yt=Mt.exports,Ht={components:{CurrentUser:Bt,OtherUserProfile:Yt},data:function(){return{currentUserInfo:d.a.get("currentUserInfo")}},computed:{paramId:function(){return this.$route.params.userId},allUsers:function(){return this.$store.state.allUsers}}},Gt=Ht,Jt=Object(p["a"])(Gt,mt,ft,!1,null,"15a8088f",null),Rt=Jt.exports,zt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"pageContainer"},[n("h1",[e._v("All Users")]),n("all-users",{attrs:{id:"allUsers"}})],1)},Kt=[],Qt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",e._l(e.allUsers,(function(t){return n("div",{key:t.userId},[n("h3",{staticClass:"username"},[e._v(" "+e._s(t.username)+" "),t.userId===e.currentUserInfo.userId?n("router-link",{staticClass:"navUserProf",attrs:{to:"/profile/"+t.userId}},[n("p",[e._v("View your profile")])]):n("router-link",{staticClass:"navUserProf",attrs:{to:"/profile/"+t.userId}},[t.userId===e.currentUserInfo.userId?n("p",[e._v("View your profile")]):n("p",[e._v("View user's profile")])])],1),t.userId!==e.currentUserInfo.userId?n("follow-unfollow",{attrs:{userId:t.userId}}):e._e(),n("br")],1)})),0)},Wt=[],Xt=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[void 0===e.followedUser?o("p",[e._v("...")]):!1===e.followedUser?o("img",{staticClass:"actionIcon",attrs:{src:n("fc5b"),alt:"follow user icon"},on:{click:e.followUser}}):!0===e.followedUser?o("img",{staticClass:"actionIcon",attrs:{src:n("956c"),alt:"unfollow user icon"},on:{click:e.unfollowUser}}):e._e()])},Zt=[],en={name:"follow-unfollow",data:function(){return{currentUserInfo:d.a.get("currentUserInfo"),followedUser:void 0,loginToken:d.a.get("loginToken")}},props:{userId:Number},mounted:function(){void 0===this.followingUsers?this.getFollowingUsers():this.checkUserFollowed(this.userId)},computed:{followingUsers:function(){return this.$store.state.followingUsers}},methods:{checkUserFollowed:function(e){for(var t=0;t<this.followingUsers.length;t++){if(Number(e)==Number(this.followingUsers[t].userId)){this.followedUser=!0;break}void 0===this.followedUser&&(this.followedUser=!1)}},getFollowingUsers:function(){var e=this;l.a.request({url:"api/follows",headers:{"Content-Type":"application/json"},params:{userId:this.currentUserInfo.userId}}).then((function(t){e.$store.commit("updateFollowingUsers",t.data),e.$store.commit("addCurrentToFollowing",e.currentUserInfo),e.checkUserFollowed(e.userId)})).catch((function(e){console.log(e)}))},followUser:function(){var e=this;this.followedUser=!0,l.a.request({url:"api/follows",method:"POST",headers:{"Content-Type":"application/json"},data:{loginToken:this.loginToken,followId:this.userId}}).then((function(t){e.$store.commit("addUserToFollowing",t.data),e.checkUserFollowed(e.userId)})).catch((function(e){console.log(e)}))},unfollowUser:function(){var e=this;l.a.request({url:"api/follows",method:"DELETE",headers:{"Content-Type":"application/json"},data:{loginToken:this.loginToken,followId:this.userId}}).then((function(t){e.followedUser=!1;for(var n=0;n<e.followingUsers.length;n++)e.userId===e.followingUsers[n].userId&&e.$store.commit("removeUserFromFollowing",n);e.checkUserFollowed()})).catch((function(e){console.log(e)}))}}},tn=en,nn=Object(p["a"])(tn,Xt,Zt,!1,null,"493a959c",null),on=nn.exports,sn={name:"all-users",components:{FollowUnfollow:on},data:function(){return{currentUserInfo:d.a.get("currentUserInfo"),followedUser:{}}},mounted:function(){void 0===this.allUsers&&this.$store.dispatch("getAllUsers")},computed:{allUsers:function(){return this.$store.state.allUsers},followingUsers:function(){return this.$store.state.followingUsers}}},rn=sn,an=(n("a610"),Object(p["a"])(rn,Qt,Wt,!1,null,"77398aa8",null)),cn=an.exports,ln={name:"users",components:{AllUsers:cn}},un=ln,dn=(n("425a"),Object(p["a"])(un,zt,Kt,!1,null,"dba00ede",null)),mn=dn.exports;o["a"].use(k["a"]);var fn=[{path:"/discover",name:"Discover",component:Fe},{path:"/login",name:"Login",component:dt},{path:"/users",name:"Users",component:mn},{path:"/profile/:userId",name:"Profile",component:Rt},{path:"/feed",name:"Feed",component:Re}],pn=new k["a"]({routes:fn,store:U}),hn=pn;o["a"].config.productionTip=!1,new o["a"]({router:hn,store:U,render:function(e){return e(T)}}).$mount("#app")},"577d":function(e,t,n){"use strict";n("d17f")},5795:function(e,t,n){"use strict";n("e718")},"6ae7":function(e,t,n){},"6b55":function(e,t,n){},7720:function(e,t,n){e.exports=n.p+"img/heart.f7c7e6cb.svg"},"78ad":function(e,t,n){e.exports=n.p+"img/trees.a709fbdb.svg"},"7d66":function(e,t,n){},"7ee0":function(e,t,n){},"819c":function(e,t,n){"use strict";n("1bf8")},"956c":function(e,t,n){e.exports=n.p+"img/unfollow.453b122a.svg"},"9a17":function(e,t,n){},a4e0:function(e,t,n){"use strict";n("ea88")},a610:function(e,t,n){"use strict";n("7d66")},aaec:function(e,t,n){e.exports=n.p+"img/tree.ac129feb.svg"},b063:function(e,t,n){},b0a0:function(e,t,n){"use strict";n("452c")},b0e3:function(e,t,n){e.exports=n.p+"img/edit.3cca9991.svg"},b27b:function(e,t,n){"use strict";n("9a17")},b82d:function(e,t,n){},c4d2:function(e,t,n){e.exports=n.p+"img/unlike.cf8ec170.svg"},c588:function(e,t,n){},c6c2:function(e,t,n){e.exports=n.p+"img/home.7d05fc9e.svg"},cd7a:function(e,t,n){},d17f:function(e,t,n){},d398:function(e,t,n){},d534:function(e,t,n){},dc45:function(e,t,n){"use strict";n("7ee0")},e429:function(e,t,n){"use strict";n("d534")},e718:function(e,t,n){},ea88:function(e,t,n){},ebc5:function(e,t,n){"use strict";n("26d0")},f141:function(e,t,n){"use strict";n("6b55")},f378:function(e,t,n){"use strict";n("34c7")},fc5b:function(e,t,n){e.exports=n.p+"img/follow.b0890558.svg"},fd00:function(e,t,n){"use strict";n("b063")},fe48:function(e,t,n){"use strict";n("d398")}});
//# sourceMappingURL=app.3e82b53d.js.map