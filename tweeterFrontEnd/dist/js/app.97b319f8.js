(function(t){function e(e){for(var o,i,a=e[0],c=e[1],l=e[2],d=0,m=[];d<a.length;d++)i=a[d],Object.prototype.hasOwnProperty.call(s,i)&&s[i]&&m.push(s[i][0]),s[i]=0;for(o in c)Object.prototype.hasOwnProperty.call(c,o)&&(t[o]=c[o]);u&&u(e);while(m.length)m.shift()();return r.push.apply(r,l||[]),n()}function n(){for(var t,e=0;e<r.length;e++){for(var n=r[e],o=!0,a=1;a<n.length;a++){var c=n[a];0!==s[c]&&(o=!1)}o&&(r.splice(e--,1),t=i(i.s=n[0]))}return t}var o={},s={app:0},r=[];function i(e){if(o[e])return o[e].exports;var n=o[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=t,i.c=o,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)i.d(n,o,function(e){return t[e]}.bind(null,o));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],c=a.push.bind(a);a.push=e,a=a.slice();for(var l=0;l<a.length;l++)e(a[l]);var u=c;r.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"01b0":function(t,e,n){"use strict";n("4cb3")},"19ce":function(t,e,n){t.exports=n.p+"img/peace-dove.bafc4176.svg"},"1abd":function(t,e,n){},"1ac1":function(t,e,n){},"1e80":function(t,e,n){"use strict";n("3bcc")},"258b":function(t,e,n){"use strict";n("f100")},2930:function(t,e,n){t.exports=n.p+"img/close.21a0e771.svg"},"2d7b":function(t,e,n){},"311a":function(t,e,n){t.exports=n.p+"img/trash.c799e5b7.svg"},3478:function(t,e,n){t.exports=n.p+"img/discover.5cfcab2d.svg"},"35b1":function(t,e,n){"use strict";n("c588")},"36f3":function(t,e,n){"use strict";n("55a7")},"3bcc":function(t,e,n){},"425a":function(t,e,n){"use strict";n("2d7b")},"452c":function(t,e,n){},"4cb3":function(t,e,n){},"4f1f":function(t,e,n){"use strict";n("6ae7")},"54da":function(t,e,n){"use strict";n("1ac1")},"55a7":function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var o=n("2b0e"),s=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{attrs:{id:"app"}},[o("div",{attrs:{id:"inApp"}},[t._m(0),o("section",{attrs:{id:"nav"}},[t.loginToken?o("div",{attrs:{id:"navIconsContainer"}},[o("router-link",{attrs:{to:"/feed"}},[o("img",{staticClass:"navIcon",attrs:{id:"feedNav",src:n("c6c2"),alt:"group of trees - users icon"}})]),o("router-link",{attrs:{to:"/profile/"+t.currentUserInfo.userId}},[o("img",{staticClass:"navIcon",attrs:{src:n("aaec"),alt:"single tree - user profile icon"}})]),o("router-link",{attrs:{to:"/discover"}},[o("img",{staticClass:"navIcon",attrs:{src:n("3478"),alt:"light bulb with leaves inside - discover icon"}})]),o("router-link",{attrs:{to:"/users"}},[o("img",{staticClass:"navIcon",attrs:{src:n("78ad"),alt:"group of trees - users icon"}})])],1):t._e(),t.loginToken?o("logout-button",{attrs:{id:"logoutBtn"}}):t._e()],1),o("router-view")],1)])},r=[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{attrs:{id:"titleContainer"}},[o("h1",[t._v("Sustainappbility")]),o("img",{attrs:{id:"logo",src:n("19ce"),alt:"black outline of dove holding flower"}})])}],i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("button",{attrs:{id:"logoutBtn"},on:{click:t.logout}},[t._v("Logout")])},a=[],c=n("bc3a"),l=n.n(c),u=n("2b27"),d=n.n(u),m={name:"logout-button",data:function(){return{}},computed:{currentUserInfo:function(){return this.$store.state.currentUserInfo},loginToken:function(){return this.$store.state.loginToken}},methods:{navigateToLogin:function(){this.$router.push({name:"Login"})},logout:function(){var t=this;l.a.request({url:"".concat("https://sustainappbility.tk/api","/login"),method:"DELETE",headers:{"Content-Type":"application/json"},data:{loginToken:this.loginToken}}).then((function(e){d.a.remove("loginToken"),t.$store.commit("updateLoginToken",""),d.a.remove("currentUserInfo"),t.$store.commit("updateCurrentUserInfo",void 0),t.loginStatus="Logging you out!",t.navigateToLogin()})).catch((function(e){console.log(t.loginToken),console.log(e)}))}}},f=m,p=(n("ad9b"),n("2877")),h=Object(p["a"])(f,i,a,!1,null,"5b58ac96",null),w=h.exports,g={components:{LogoutButton:w},computed:{currentUserInfo:function(){return this.$store.state.currentUserInfo},loginToken:function(){return this.$store.state.loginToken},routePath:function(){return this.$route.path}},watch:{routePath:function(t,e){this.loginToken&&"/"===t&&this.$router.push({path:"/feed"})}},mounted:function(){this.loginToken&&"/"===this.$route.path&&this.$router.push({path:"/feed"}),this.notifyLogin()},methods:{notifyLogin:function(){this.loginToken||this.$router.push({path:"/login"})}}},I=g,v=(n("4f1f"),n("b0a0"),Object(p["a"])(I,s,r,!1,null,"6356fb5c",null)),k=v.exports,T=n("8c4f"),C=(n("a434"),n("4de4"),n("159b"),n("2f62"));o["a"].use(C["a"]);var b=new C["a"].Store({state:{loginToken:d.a.get("loginToken"),currentUserInfo:d.a.get("currentUserInfo"),allUsers:void 0,allTweets:void 0,followingUsers:void 0,followingTweets:void 0,currentUserTweets:void 0,tweetLikes:{},commentLikes:{}},mutations:{updateAllUsers:function(t,e){t.allUsers=e},updateFollowingUsers:function(t,e){t.followingUsers=e},updateFollowingTweets:function(t,e){t.followingTweets=e},addUserToFollowing:function(t,e){if(void 0!==t.followingUsers)t.followingUsers.push(e);else{var n=[];n.push(e),t.followingUsers=n}},removeUserFromFollowing:function(t,e){t.followingUsers.splice(e,1)},updateCurrentUserInfo:function(t,e){t.currentUserInfo=e,d.a.set("currentUserInfo",e)},updateLoginToken:function(t,e){t.loginToken=e},addCurrentToFollowing:function(t){t.followingUsers.push(t.currentUserInfo)},addLikeToTweetLikes:function(t,e){o["a"].set(t.tweetLikes,e.tweetId,e.likes)},likeTweet:function(t,e){var n=t.tweetLikes[e.tweetId];n.push(e.like),o["a"].set(t.tweetLikes,e.tweetId,n)},removeLikeFromTweetLikes:function(t,e){var n=t.tweetLikes[e.tweetId];function s(n){for(var o=0;o<n.length;o++)n[o].userId!=t.currentUserInfo.userId&&n.push(e.like)}var r=n.filter(s);o["a"].set(t.tweetLikes,e.tweetId,r)},addLikeToCommentLikes:function(t,e){o["a"].set(t.commentLikes,e.commentId,e.likes)},likeComment:function(t,e){var n=t.commentLikes[e.commentId];n.push(e.like),o["a"].set(t.commentLikes,e.commentId,n)},removeLikeFromCommentLikes:function(t,e){var n=t.commentLikes[e.commentId];function s(n){for(var o=0;o<n.length;o++)n[o].userId!=t.currentUserInfo.userId&&n.push(e.like)}var r=n.filter(s);o["a"].set(t.commentLikes,e.commentId,r)},updateCurrentUserTweets:function(t,e){t.currentUserTweets=e},updateAllTweets:function(t,e){t.allTweets=e},addTweetToCurrentTweets:function(t,e){if(void 0!==t.currentUserTweets)t.currentUserTweets.push(e);else{var n=[];n.push(e),t.currentUserTweets=n}},addTweetToAllTweets:function(t,e){if(void 0!==t.allTweets)t.allTweets.push(e);else{var n=[];n.push(e),t.allTweets=n}},removeTweetFromCurrentTweets:function(t,e){t.currentUserTweets.splice(e,1)},removeTweetFromAllUsersTweets:function(t,e){t.allTweets.splice(e,1)}},actions:{getFollowingTweets:function(t){l.a.request({url:"".concat("https://sustainappbility.tk/api","/followingTweets"),headers:{"Content-Type":"application/json",loginToken:t.state.loginToken}}).then((function(e){t.commit("updateFollowingTweets",e.data)})).catch((function(t){console.log(t)}))},viewMyTweets:function(t){l.a.request({url:"".concat("https://sustainappbility.tk/api","/tweets"),method:"GET",headers:{"Content-Type":"application/json"},params:{userId:t.state.currentUserInfo.userId}}).then((function(e){t.commit("updateCurrentUserTweets",e.data)})).catch((function(t){console.log(t)}))},getAllTweets:function(t){l.a.request({url:"".concat("https://sustainappbility.tk/api","/tweets"),headers:{"Content-Type":"application/json"}}).then((function(e){t.commit("updateAllTweets",e.data)})).catch((function(t){console.log(t)}))},getAllUsers:function(t){l.a.request({url:"".concat("https://sustainappbility.tk/api","/users"),headers:{"Content-Type":"application/json"}}).then((function(e){t.commit("updateAllUsers",e.data)})).catch((function(t){console.log(t)}))}},getters:{currentAndFollowing:function(t){var e=[];return void 0===t.followingTweets||void 0===t.currentUserTweets?e:(t.followingTweets.forEach((function(t){return e.push(t)})),t.currentUserTweets.forEach((function(t){return e.push(t)})),e.sort((function(t,e){return Date.parse(e.createdAt)-Date.parse(t.createdAt)})))},sortedCurrentTweets:function(t){var e=[];return void 0===t.currentUserTweets?e:t.currentUserTweets.sort((function(t,e){return Date.parse(e.createdAt)-Date.parse(t.createdAt)}))},sortedAllTweets:function(t){var e=[];return void 0===t.allTweets?e:t.allTweets.sort((function(t,e){return Date.parse(e.createdAt)-Date.parse(t.createdAt)}))}}}),U=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"pageContainer"},[n("h1",[t._v("Discover")]),n("post-tweet"),n("all-tweets")],1)])},_=[],y=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"cardContainer"},[n("article",{staticClass:"tweetCardContainer"},t._l(t.sortedAllTweets,(function(e){return n("div",{key:e.tweetId,staticClass:"tweetCard",attrs:{id:"tweetContainer"+e.tweetId,userId:e.userId,tweetId:e.tweetId}},[n("h3",[n("router-link",{staticClass:"username",attrs:{to:"/profile/"+e.userId}},[t._v(" "+t._s(e.username)+" ")])],1),n("div",{attrs:{id:"sectContain"}},[n("p",{staticClass:"createdAt"},[t._v(t._s(e.createdAt))])]),n("edit-tweet",{attrs:{tweetId:e.tweetId,userId:e.userId}}),n("div",{staticClass:"cmtContain"},[n("tweet-comments",{attrs:{tweetId:e.tweetId}})],1),n("p",{staticClass:"content"},[t._v(t._s(e.content))]),e.userId===t.currentUserInfo.userId?n("div",[n("div",{staticClass:"tweetActionsContainer"},[n("like-tweet",{attrs:{tweetId:e.tweetId}}),n("delete-tweet",{attrs:{tweetId:e.tweetId,userId:e.userId}})],1)]):t._e(),e.userId!==t.currentUserInfo.userId?n("div",[n("div",{staticClass:"otherUserTweetActions"},[n("like-tweet",{attrs:{tweetId:e.tweetId}})],1)]):t._e()],1)})),0)])},L=[],$=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{attrs:{id:"deleteTweetCont"}},[Number(t.currentUserInfo.userId)===Number(t.userId)?o("img",{staticClass:"actionIcon",attrs:{src:n("311a"),alt:"recycle bin icon - delete tweet button"},on:{click:function(e){return t.deleteTweet(t.tweetId)}}}):t._e()])},E=[],O=(n("a9e3"),{name:"delete-tweet",data:function(){return{currentUserInfo:d.a.get("currentUserInfo"),loginToken:d.a.get("loginToken")}},props:{tweetId:Number,userId:Number},computed:{currentUserTweets:function(){return this.$store.state.currentUserTweets},allTweets:function(){return this.$store.state.allTweets}},methods:{deleteTweet:function(t){var e=this;l.a.request({url:"".concat("https://sustainappbility.tk/api","/tweets"),method:"DELETE",headers:{"Content-Type":"application/json"},data:{loginToken:this.loginToken,tweetId:t}}).then((function(n){for(var o=0;o<e.currentUserTweets.length;o++)e.currentUserTweets[o].tweetId===t&&e.$store.commit("removeTweetFromCurrentTweets",o);for(var s=0;s<e.allTweets.length;s++)e.allTweets[s].tweetId===t&&e.$store.commit("removeTweetFromAllUsersTweets",s)})).catch((function(t){console.log(t)}))}}}),x=O,j=Object(p["a"])(x,$,E,!1,null,"62da7e22",null),P=j.exports,A=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"cmtContain"},[!1===t.toggleEditOn&&Number(t.currentUserInfo.userId)===Number(t.userId)?o("p",{attrs:{id:"viewCmt"},on:{click:function(e){t.toggleEditOn=!0}}},[t._v(" Edit Post ")]):t._e(),!0===t.toggleEditOn?o("div",{staticClass:"tweetCommentsContainer"},[o("img",{staticClass:"actionIcon",attrs:{id:"cancel",src:n("2930"),alt:"black x - cancel icon"},on:{click:function(e){t.toggleEditOn=!t.toggleEditOn}}}),o("div",{attrs:{id:"postCommentContainer"}},[o("textarea",{attrs:{name:"editTweet",id:"editTweet",placeholder:"max 200 characters"}}),o("div",{attrs:{id:"btnsContainer"}},[o("button",{attrs:{id:"postBtn"},on:{click:t.editTweet}},[t._v("Edit")])])])]):t._e()])},F=[],S={name:"edit-tweet",data:function(){return{loginToken:d.a.get("loginToken"),toggleEditOn:!1,currentUserInfo:d.a.get("currentUserInfo"),successMsg:""}},props:{tweetId:Number,userId:Number},computed:{currentUserTweets:function(){return this.$store.state.currentUserTweets},allTweets:function(){return this.$store.state.allTweets}},methods:{editTweet:function(){var t=this;this.toggleEditOn=!1,l.a.request({url:"".concat("https://sustainappbility.tk/api","/tweets"),method:"PATCH",headers:{"Content-Type":"application/json"},data:{loginToken:this.loginToken,tweetId:this.tweetId,content:document.getElementById("editTweet").value}}).then((function(e){t.editTweetViewOn=!1;for(var n=0;n<t.currentUserTweets.length;n++){t.currentUserTweets[n].tweetId===t.tweetId&&(t.currentUserTweets[n].content=e.data.content,t.$store.commit("updateCurrentUserTweets",t.currentUserTweets));for(var o=0;o<t.allTweets.length;o++)t.allTweets[o].tweetId===t.tweetId&&(t.allTweets[o].content=e.data.content),t.$store.commit("updateAllTweets",t.allTweets)}})).catch((function(t){console.log(t)}))}}},B=S,D=(n("bda0"),Object(p["a"])(B,A,F,!1,null,"0158c1a0",null)),q=D.exports,N=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{attrs:{id:"pageContainer"}},[0==t.commentViewOn?o("p",{attrs:{id:"viewCmt"},on:{click:t.getComments}},[t._v(" Comments ")]):o("div",{staticClass:"cmtContain"},[o("div",{staticClass:"tweetCommentsContainer"},[o("img",{staticClass:"actionIcon",attrs:{id:"cancel",src:n("2930"),alt:"black x - cancel icon"},on:{click:function(e){t.commentViewOn=!1}}}),t._l(t.tweetComments,(function(e){return o("div",{key:e.commentId,staticClass:"cmtInfo"},[o("h3",{staticClass:"username"},[t._v(t._s(e.username))]),o("p",{staticClass:"createdAt"},[t._v(t._s(e.createdAt))]),o("edit-comment",{attrs:{commentId:e.commentId,userId:e.userId},on:{newlyEditedComment:t.handleEditUpdate}}),o("p",{staticClass:"content"},[t._v(t._s(e.content))]),o("div",{staticClass:"tweetActionsContainer"},[o("like-comment",{attrs:{commentId:e.commentId}}),o("delete-comment",{attrs:{tweetComments:t.tweetComments,userId:e.userId,commentId:e.commentId},on:{commentsAfterDelete:t.handleDeleteComment}})],1)],1)})),o("post-comment",{attrs:{tweetId:t.tweetId},on:{newlyPostedComment:t.handleNewComment}})],2)])])},V=[],M=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{attrs:{id:"editCommentContainer"}},[!1===t.editViewOn&&t.currentUserInfo.userId===t.userId?o("p",{attrs:{id:"viewCmt"},on:{click:function(e){t.editViewOn=!0}}},[t._v(" Edit Comment ")]):t._e(),!0===t.editViewOn?o("div",{attrs:{id:"postCommentContainer"}},[o("p",{attrs:{id:"editHeader"}},[t._v("Edit comment:")]),o("textarea",{attrs:{name:"editComment",id:"editComment"+t.commentId,placeholder:"max 150 characters"}}),o("div",{attrs:{id:"btnContain"}},[o("img",{staticClass:"actionIcon",attrs:{src:n("2930"),alt:"black x - cancel icon"},on:{click:function(e){t.editViewOn=!1}}}),o("button",{attrs:{id:"postBtn"},on:{click:t.editComment}},[t._v("Post")])])]):t._e()])},Y=[],H={name:"edit-comment",data:function(){return{editViewOn:!1,loginToken:d.a.get("loginToken"),currentUserInfo:d.a.get("currentUserInfo")}},props:{commentId:Number,userId:Number},methods:{editComment:function(){var t=this;this.editViewOn=!1,l.a.request({url:"".concat("https://sustainappbility.tk/api","/comments"),method:"PATCH",headers:{"Content-Type":"application/json"},data:{loginToken:this.loginToken,commentId:this.commentId,content:document.getElementById("editComment"+this.commentId).value}}).then((function(e){t.$emit("newlyEditedComment",e.data)})).catch((function(t){console.log(t)}))}}},G=H,J=(n("b001"),Object(p["a"])(G,M,Y,!1,null,"30810718",null)),R=J.exports,z=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"postCommentContainer"}},[n("p",{attrs:{id:"postHeader"}},[t._v("Post a comment:")]),n("textarea",{attrs:{name:"tweetComment",id:"makeComment",cols:"30",rows:"5",maxlength:"150",minlength:"1",placeholder:"max 150 characters"}}),n("button",{attrs:{id:"postBtn"},on:{click:t.postComment}},[t._v("Post")])])},K=[],Q={name:"post-comment",data:function(){return{loginToken:d.a.get("loginToken"),commentViewOn:!1}},props:{commentId:Number,tweetId:Number},methods:{postComment:function(){var t=this;l.a.request({url:"".concat("https://sustainappbility.tk/api","/comments"),method:"POST",headers:{"Content-Type":"application/json"},data:{loginToken:this.loginToken,tweetId:this.tweetId,content:document.getElementById("makeComment").value}}).then((function(e){t.$emit("newlyPostedComment",e.data),document.getElementById("makeComment").value=""})).catch((function(t){console.log(t)}))}}},W=Q,X=(n("e7c4"),Object(p["a"])(W,z,K,!1,null,"8a5483ec",null)),Z=X.exports,tt=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{attrs:{id:"deleteTweetCont"}},[!1===t.toggleDeleteOn&&Number(t.currentUserInfo.userId)===Number(t.userId)?o("img",{staticClass:"actionIcon",attrs:{src:n("311a"),alt:"recycle bin icon - delete tweet button"},on:{click:t.deleteComment}}):t._e()])},et=[],nt={name:"delete-comment",data:function(){return{toggleDeleteOn:!1,loginToken:d.a.get("loginToken"),currentUserInfo:d.a.get("currentUserInfo")}},props:{userId:Number,tweetComments:Array,commentId:Number},computed:{},methods:{deleteComment:function(){var t=this;l.a.request({url:"".concat("https://sustainappbility.tk/api","/comments"),method:"DELETE",headers:{"Content-Type":"application/json"},data:{loginToken:this.loginToken,commentId:this.commentId}}).then((function(e){for(var n=0;n<t.tweetComments.length;n++)t.tweetComments[n].commentId===t.commentId&&(t.tweetComments.splice(n,1),t.$emit("commentsAfterDelete",t.tweetComments))})).catch((function(e){console.log(t.tweetComments),console.log(e)}))}}},ot=nt,st=(n("fb85"),Object(p["a"])(ot,tt,et,!1,null,"3608c5b8",null)),rt=st.exports,it=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"likesContainer"},[!1===t.commentLiked?o("img",{staticClass:"actionIcon",attrs:{src:n("7720"),alt:"hand drawn heart dark green - like button"},on:{click:t.likeComment}}):o("img",{staticClass:"actionIcon",attrs:{src:n("c4d2"),alt:"hand drawn heart light green - unlike btn"},on:{click:t.unlikeComment}}),o("p",[t._v("Likes: "+t._s(t.numLikes))])])},at=[],ct={name:"like-comment",props:{commentId:Number},data:function(){return{loginToken:d.a.get("loginToken"),commentLiked:!1,currentUserInfo:d.a.get("currentUserInfo"),numLikes:0}},computed:{commentLikes:function(){return this.$store.state.commentLikes}},mounted:function(){void 0===this.commentLikes[this.commentId]?this.viewCommentLikes(this.commentId):(this.checkCommentLiked(),this.numLikes=this.commentLikes[this.commentId].length)},methods:{checkCommentLiked:function(){for(var t=0;t<this.commentLikes[this.commentId].length;t++)this.currentUserInfo.userId===this.commentLikes[this.commentId][t].userId&&this.commentLikes[this.commentId][t].commentId===this.commentId&&(this.commentLiked=!0)},viewCommentLikes:function(t){var e=this;l.a.request({url:"".concat("https://sustainappbility.tk/api","/comment-likes"),headers:{"Content-Type":"application/json"},params:{commentId:t}}).then((function(n){e.$store.commit("addLikeToCommentLikes",{commentId:t,likes:n.data}),e.checkCommentLiked(),e.numLikes=e.commentLikes[e.commentId].length})).catch((function(t){console.log(t)}))},likeComment:function(){var t=this;this.commentLiked=!0,l.a.request({url:"".concat("https://sustainappbility.tk/api","/comment-likes"),method:"POST",headers:{"Content-Type":"application/json"},data:{loginToken:this.loginToken,commentId:this.commentId}}).then((function(e){t.numLikes+=1,t.$store.commit("likeComment",{commentId:t.commentId,like:e.data})})).catch((function(t){console.log(t)}))},unlikeComment:function(){var t=this;this.commentLiked=!1,l.a.request({url:"".concat("https://sustainappbility.tk/api","/comment-likes"),method:"DELETE",headers:{"Content-Type":"application/json"},data:{loginToken:this.loginToken,commentId:this.commentId}}).then((function(e){t.numLikes-=1,t.$store.commit("removeLikeFromCommentLikes",{commentId:t.commentId,like:e.data})})).catch((function(t){console.log(t)}))}}},lt=ct,ut=(n("5f25"),Object(p["a"])(lt,it,at,!1,null,"3a8c5294",null)),dt=ut.exports,mt={components:{EditComment:R,PostComment:Z,DeleteComment:rt,LikeComment:dt},name:"tweet-comments",data:function(){return{loginToken:d.a.get("loginToken"),tweetComments:[],commentViewOn:!1}},props:{tweetId:Number},methods:{handleNewComment:function(t){this.tweetComments.push(t)},handleEditUpdate:function(t){for(var e=0;e<this.tweetComments.length;e++)this.tweetComments[e].commentId===t.commentId&&(this.tweetComments[e].content=t.content)},handleDeleteComment:function(t){},getComments:function(){var t=this;this.commentViewOn=!0,l.a.request({url:"".concat("https://sustainappbility.tk/api","/comments"),headers:{"Content-Type":"application/json"},params:{tweetId:this.tweetId}}).then((function(e){t.tweetComments=e.data})).catch((function(t){console.log(t)}))}}},ft=mt,pt=(n("258b"),Object(p["a"])(ft,N,V,!1,null,"78571a21",null)),ht=pt.exports,wt=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"likesContainer"},[!1===t.tweetLiked?o("img",{staticClass:"actionIcon",attrs:{src:n("7720"),alt:"hand drawn heart dark green - like button"},on:{click:t.likeTweet}}):o("img",{staticClass:"actionIcon",attrs:{src:n("c4d2"),alt:"hand drawn heart light green - unlike btn"},on:{click:t.unlikeTweet}}),o("p",[t._v("Likes: "+t._s(this.numLikes))])])},gt=[],It={name:"like-tweet",data:function(){return{loginToken:d.a.get("loginToken"),currentUserInfo:d.a.get("currentUserInfo"),tweetLiked:!1,numLikes:0}},props:{tweetId:Number},computed:{tweetLikes:function(){return this.$store.state.tweetLikes}},mounted:function(){void 0===this.tweetLikes[this.tweetId]?this.viewTweetLikes(this.tweetId):(this.checkTweetLiked(),this.numLikes=this.tweetLikes[this.tweetId].length)},methods:{checkTweetLiked:function(){for(var t=0;t<this.tweetLikes[this.tweetId].length;t++)this.currentUserInfo.userId===this.tweetLikes[this.tweetId][t].userId&&this.tweetLikes[this.tweetId][t].tweetId===this.tweetId&&(this.tweetLiked=!0)},viewTweetLikes:function(t){var e=this;l.a.request({url:"".concat("https://sustainappbility.tk/api","/tweet-likes"),headers:{"Content-Type":"application/json"},params:{tweetId:t}}).then((function(t){e.$store.commit("addLikeToTweetLikes",{tweetId:e.tweetId,likes:t.data}),e.checkTweetLiked(),e.numLikes=e.tweetLikes[e.tweetId].length})).catch((function(t){console.log(t)}))},likeTweet:function(){var t=this;this.tweetLiked=!0,l.a.request({url:"".concat("https://sustainappbility.tk/api","/tweet-likes"),method:"POST",headers:{"Content-Type":"application/json"},data:{loginToken:this.loginToken,tweetId:this.tweetId}}).then((function(e){t.numLikes+=1,t.$store.commit("likeTweet",{tweetId:t.tweetId,like:e.data})})).catch((function(t){console.log(t)}))},unlikeTweet:function(){var t=this;this.tweetLiked=!1,l.a.request({url:"".concat("https://sustainappbility.tk/api","/tweet-likes"),method:"DELETE",headers:{"Content-Type":"application/json"},data:{loginToken:this.loginToken,tweetId:this.tweetId}}).then((function(e){t.numLikes-=1,t.$store.commit("removeLikeFromTweetLikes",{tweetId:t.tweetId,like:e.data})})).catch((function(t){console.log(t)}))}}},vt=It,kt=(n("54da"),Object(p["a"])(vt,wt,gt,!1,null,"01d0a2ed",null)),Tt=kt.exports,Ct={name:"all-tweets",components:{DeleteTweet:P,EditTweet:q,TweetComments:ht,LikeTweet:Tt},data:function(){return{loginToken:d.a.get("loginToken"),currentUserInfo:d.a.get("currentUserInfo")}},mounted:function(){void 0===this.$store.state.allTweets&&this.$store.dispatch("getAllTweets")},computed:{allTweets:function(){return this.$store.state.allTweets},sortedAllTweets:function(){return this.$store.getters.sortedAllTweets},tweetLikes:function(){return this.$store.state.tweetLikes}}},bt=Ct,Ut=Object(p["a"])(bt,y,L,!1,null,"814eb73c",null),_t=Ut.exports,yt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("section",{attrs:{id:"postTweetContainer"}},[n("p",[t._v(t._s(t.submitStatus))]),n("h3",[t._v("Make Post")]),n("textarea",{attrs:{name:"postTweet",id:"postTweet",placeholder:"max 200 characters",maxlength:"200",minlength:"1",required:""}}),n("button",{attrs:{id:"postBtn"},on:{click:t.postTweet}},[t._v("Post")])])])},Lt=[],$t={name:"post-tweet",data:function(){return{loginToken:d.a.get("loginToken"),submitStatus:""}},computed:{currentUserTweets:function(){return this.$store.state.currentUserTweets},allTweets:function(){return this.$store.state.allTweets}},methods:{postTweet:function(){var t=this;""!==document.getElementById("postTweet").value?l.a.request({url:"".concat("https://sustainappbility.tk/api","/tweets"),method:"POST",headers:{"Content-Type":"application/json"},data:{loginToken:this.loginToken,content:document.getElementById("postTweet").value}}).then((function(e){t.$store.commit("addTweetToCurrentTweets",e.data),t.$store.commit("addTweetToAllTweets",e.data),document.getElementById("postTweet").value=""})).catch((function(t){console.log(t)})):""===document.getElementById("postTweet").value&&(this.submitStatus="Your post has no content!",setTimeout((function(){t.submitStatus=""}),1e3))}}},Et=$t,Ot=(n("36f3"),Object(p["a"])(Et,yt,Lt,!1,null,"3b1f1d9c",null)),xt=Ot.exports,jt={components:{AllTweets:_t,PostTweet:xt},data:function(){return{allUsers:[]}},methods:{}},Pt=jt,At=Object(p["a"])(Pt,U,_,!1,null,"c4a2b7c4",null),Ft=At.exports,St=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"pageContainer"},[n("h1",[t._v("News Feed")]),n("post-tweet"),n("all-tweets-follow")],1)])},Bt=[],Dt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"cardContainer"},[0===t.currentAndFollowing.length?n("h4",[t._v(" Go to the users page to follow some users! ")]):t._e(),n("article",{staticClass:"tweetCardContainer"},t._l(t.currentAndFollowing,(function(e){return n("div",{key:e.tweetId,staticClass:"tweetCard"},[n("h3",{staticClass:"username"},[t._v(t._s(e.username))]),n("div",{attrs:{id:"sectContain"}},[n("p",{staticClass:"createdAt"},[t._v(t._s(e.createdAt))])]),n("edit-tweet",{attrs:{tweetId:e.tweetId,userId:e.userId}}),n("div",{staticClass:"cmtContain"},[n("tweet-comments",{attrs:{tweetId:e.tweetId}})],1),n("p",{staticClass:"content"},[t._v(t._s(e.content))]),e.userId===t.currentUserInfo.userId?n("div",[n("div",{staticClass:"tweetActionsContainer"},[n("like-tweet",{attrs:{tweetId:e.tweetId}}),n("delete-tweet",{attrs:{tweetId:e.tweetId,userId:e.userId}})],1)]):t._e(),e.userId!==t.currentUserInfo.userId?n("div",[n("div",{staticClass:"otherUserTweetActions"},[n("like-tweet",{attrs:{tweetId:e.tweetId}})],1)]):t._e()],1)})),0)])},qt=[],Nt={name:"all-tweets-follow",components:{DeleteTweet:P,EditTweet:q,TweetComments:ht,LikeTweet:Tt},mounted:function(){void 0===this.$store.state.followingTweets&&this.$store.dispatch("getFollowingTweets"),void 0===this.$store.state.currentUserTweets&&this.$store.dispatch("viewMyTweets")},computed:{currentAndFollowing:function(){return this.$store.getters.currentAndFollowing},currentUserInfo:function(){return this.$store.state.currentUserInfo},tweetLikes:function(){return this.$store.state.tweetLikes}},methods:{sortCurrentAndFollowing:function(){return this.currentAndFollowing.sort((function(t,e){return e.tweetId-t.tweetId}))},addToCurrentAndFollowing:function(t){for(var e=0;e<t.length;e++)this.currentAndFollowing.push(t[e])}}},Vt=Nt,Mt=Object(p["a"])(Vt,Dt,qt,!1,null,"29a4f44a",null),Yt=Mt.exports,Ht={components:{PostTweet:xt,AllTweetsFollow:Yt}},Gt=Ht,Jt=Object(p["a"])(Gt,St,Bt,!1,null,"8e1e9596",null),Rt=Jt.exports,zt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("h4",{attrs:{id:"loginStatus"}},[t._v(t._s(t.loginStatus))]),n("div",{attrs:{id:"formsContainer"}},[n("login-form"),n("sign-up-form")],1)])},Kt=[],Qt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"pageContainer"},[t._m(0),n("div",{attrs:{id:"successContainer"}}),n("div",{attrs:{id:"loginFormContainer"}},[n("h3",[t._v("Login")]),n("h4",[t._v(t._s(t.loginStatus))]),n("form",{attrs:{id:"loginForm",action:"javascript:void(0)"}},[n("input",{attrs:{type:"text",id:"emailInputLogin",name:"emailInput",placeholder:"Email",required:""}}),n("input",{attrs:{type:"password",id:"passwordInputLogin",name:"passwordInput",placeholder:"Password",required:""}}),n("button",{attrs:{id:"loginBtn"},on:{click:t.attemptLogin}},[t._v(" Login ")])])])])},Wt=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"introInfo"}},[n("h3",[t._v("Crafting a greener world")]),n("p",[t._v(" A platform on which to share sustainability tips, products, and information ")])])}],Xt={name:"login-form",computed:{loginToken:function(){return this.$store.state.loginToken},currentUserInfo:function(){return this.$store.state.currentUserInfo}},data:function(){return{loginStatus:""}},methods:{navigateToFeed:function(){this.$router.push({path:"/feed"})},attemptLogin:function(){var t=this;l.a.request({url:"".concat("https://sustainappbility.tk/api","/login"),method:"POST",headers:{"Content-Type":"application/json"},data:{email:document.getElementById("emailInputLogin").value,password:document.getElementById("passwordInputLogin").value}}).then((function(e){t.loginStatus="Logging in...",d.a.set("currentUserInfo",e.data),t.$store.commit("updateCurrentUserInfo",e.data),d.a.set("loginToken",e.data.loginToken),t.$store.commit("updateLoginToken",d.a.get("loginToken")),t.navigateToFeed(),t.loginStatus="Logged in! Redirecting..."})).catch((function(e){console.log(e),t.loginStatus="Sorry, an error occurred. Please try again"}))}}},Zt=Xt,te=(n("bb4c"),Object(p["a"])(Zt,Qt,Wt,!1,null,"fe524844",null)),ee=te.exports,ne=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",[n("h3",[t._v("New here? Create an account")]),n("h4",[t._v(t._s(t.loginStatus))]),n("form",{attrs:{action:"javascript:void(0)"}},[n("input",{attrs:{type:"text",id:"emailInput",placeholder:"Email",required:""}}),n("input",{attrs:{type:"text",id:"usernameInput",placeholder:"Username",required:""}}),n("input",{attrs:{type:"password",id:"passwordInput",placeholder:"Password",required:""}}),n("textarea",{attrs:{name:"bioInput",id:"bioInput",placeholder:"User Bio",required:""}}),n("label",{attrs:{for:"birthdateInput"}},[t._v("Birthdate")]),n("input",{attrs:{type:"text",id:"userBirthdate",name:"birthdateInput",placeholder:"YYYY-MM-DD",required:""}}),n("button",{attrs:{id:"signupBtn"},on:{click:t.userSignup}},[t._v("Sign Up")])])])},oe=[],se={name:"sign-up-form",data:function(){return{loginStatus:""}},computed:{currentUserInfo:function(){return this.$store.state.currentUserInfo}},methods:{navigateToProfile:function(){this.$router.push({path:"/profile/".concat(this.currentUserInfo.userId)})},userSignup:function(){var t=this;l.a.request({url:"".concat("https://sustainappbility.tk/api","/users"),method:"POST",headers:{"Content-Type":"application/json"},data:{email:document.getElementById("emailInput").value,username:document.getElementById("usernameInput").value,password:document.getElementById("passwordInput").value,bio:document.getElementById("bioInput").value,birthdate:document.getElementById("userBirthdate").value}}).then((function(e){console.log(e.data),setTimeout(t.navigateToProfile,1500),d.a.set("currentUserInfo",e.data),d.a.set("loginToken",e.data.loginToken),t.$store.commit("updateCurrentUserInfo",e.data),t.$store.commit("updateLoginToken",e.data.loginToken),t.loginStatus="You've signed up! Logging you in..."})).catch((function(e){t.loginStatus="Sorry, signup was incomplete. Please try again.",console.log(e)}))}}},re=se,ie=(n("96ec"),Object(p["a"])(re,ne,oe,!1,null,"242c5bca",null)),ae=ie.exports,ce={data:function(){return{loginStatus:""}},components:{LoginForm:ee,SignUpForm:ae}},le=ce,ue=(n("fe48"),Object(p["a"])(le,zt,Kt,!1,null,"6da4a6dc",null)),de=ue.exports,me=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"pageContainer"},[Number(t.paramId)===Number(t.currentUserInfo.userId)?n("current-user"):n("other-user-profile",{attrs:{userId:Number(t.paramId)}})],1)},fe=[],pe=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"pageContainer"},[n("div",{staticClass:"profileContents"},[n("h1",[t._v("Your Profile")]),n("h2",[t._v(t._s(t.currentUserInfo.username))]),n("h5",[t._v("Birthdate: "+t._s(t.currentUserInfo.birthdate))]),n("h5",[t._v(t._s(t.currentUserInfo.email))]),n("p",{staticClass:"bio"},[t._v(t._s(t.currentUserInfo.bio))]),n("div",{attrs:{id:"iconsContainer"}},[n("edit-profile-form"),n("delete-profile")],1)]),n("post-tweet"),n("current-user-tweets")],1)},he=[],we=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("section",[!1===t.toggleEditOn?o("img",{staticClass:"actionIcon",attrs:{src:n("b0e3"),alt:"pencil icon - edit button"},on:{click:function(e){t.toggleEditOn=!0}}}):t._e(),!0===t.toggleEditOn?o("div",{staticClass:"tweetCard"},[o("form",{attrs:{action:"javascript:void(0)"}},[o("p",[t._v("All fields not required")]),o("input",{attrs:{type:"text",id:"editUsername",name:"usernameInput",placeholder:"Update Username"}}),o("input",{attrs:{type:"text",id:"editEmail",name:"emailInput",placeholder:"Update Email"}}),o("input",{attrs:{type:"password",id:"editPassword",name:"passwordInput",placeholder:"Update Password"}}),o("input",{attrs:{type:"text",id:"editBirthdate",name:"birthdateInput",placeholder:"Update Birthdate (YYYY-MM-DD)"}}),o("textarea",{attrs:{name:"bioInput",id:"editBio",placeholder:"Update Bio"}}),o("div",{attrs:{id:"btnContain"}},[o("img",{staticClass:"actionIcon",attrs:{src:n("2930"),alt:"black x - cancel icon"},on:{click:function(e){t.toggleEditOn=!1}}}),o("button",{attrs:{id:"updateBtn"},on:{click:t.editUserProfile}},[t._v("Save")])])])]):t._e(),o("h4",[t._v(t._s(t.loginStatus))])])},ge=[],Ie={name:"edit-profile-form",data:function(){return{loginStatus:"",loginToken:d.a.get("loginToken"),toggleEditOn:!1}},computed:{currentUserInfo:function(){return this.$store.state.currentUserInfo}},methods:{editUserProfile:function(){var t=this;l.a.request({url:"".concat("https://sustainappbility.tk/api","/users"),method:"PATCH",headers:{"Content-Type":"application/json"},data:{username:document.getElementById("editUsername").value,email:document.getElementById("editEmail").value,password:document.getElementById("editPassword").value,bio:document.getElementById("editBio").value,birthdate:document.getElementById("editBirthdate").value,loginToken:this.loginToken}}).then((function(e){t.loginStatus="Profile updated!",d.a.set("currentUserInfo",e.data),t.$store.commit("updateCurrentUserInfo",e.data),t.toggleEditOn=!1})).catch((function(t){console.log(t)}))}}},ve=Ie,ke=(n("79aa"),Object(p["a"])(ve,we,ge,!1,null,"4f358c72",null)),Te=ke.exports,Ce=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("section",[o("h4",[t._v(t._s(t.loginStatus))]),!1===t.toggleDeleteOn?o("img",{staticClass:"actionIcon",attrs:{src:n("311a"),alt:"recycle bin icon - delete tweet button"},on:{click:function(e){t.toggleDeleteOn=!0}}}):t._e(),!0===t.toggleDeleteOn?o("div",{staticClass:"tweetCard"},[t._v(" Confirm password to delete profile: "),o("input",{attrs:{type:"password",id:"passwordInputDelete",name:"passwordInput",placeholder:"Password",required:""}}),o("div",{attrs:{id:"btnsContainer"}},[o("img",{staticClass:"actionIcon",attrs:{src:n("2930"),alt:"black x - cancel icon"},on:{click:function(e){t.toggleDeleteOn=!1}}}),o("button",{attrs:{id:"deleteBtn"},on:{click:t.deleteProfile}},[t._v("Confirm")])])]):t._e()])},be=[],Ue={name:"delete-profile",data:function(){return{loginStatus:"",toggleDeleteOn:!1}},computed:{loginToken:function(){return this.$store.state.loginToken},userPassword:function(){return this.$store.state.userPassword}},methods:{navigateToLogin:function(){this.$router.push({name:"Login"})},deleteProfile:function(){var t=this;l.a.request({url:"".concat("https://sustainappbility.tk/api","/users"),method:"DELETE",headers:{"Content-Type":"application/json"},data:{loginToken:this.loginToken,password:document.getElementById("passwordInputDelete").value}}).then((function(e){setTimeout(t.navigateToLogin,1500),d.a.remove("loginToken"),t.$store.commit("updateLoginToken",""),d.a.remove("currentUserInfo"),t.$store.commit("updateCurrentUserInfo",void 0),t.loginStatus="Profile deleted! Redirecting..."})).catch((function(e){console.log(e),t.loginStatus="Sorry, an error occurred. Please try again."}))}}},_e=Ue,ye=(n("1e80"),Object(p["a"])(_e,Ce,be,!1,null,"4d97ebff",null)),Le=ye.exports,$e=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"pageContainer"},[n("article",{staticClass:"tweetCardContainer"},[void 0===t.currentUserTweets?n("h4",[t._v(" Get started with your first post! ")]):t._e(),t._l(t.sortedCurrentTweets,(function(e){return n("div",{key:e.tweetId,staticClass:"cardContainer",attrs:{id:"tweetContainer"+e.tweetId}},[n("div",{staticClass:"tweetCard"},[t.$route.path!=="/profile/"+t.currentUserInfo.userId?n("h3",{staticClass:"username"},[n("router-link",{attrs:{to:"/profile/"+t.currentUserInfo.userId}},[t._v(" "+t._s(e.username)+" ")])],1):n("h3",{staticClass:"username"},[t._v(t._s(e.username))]),n("div",{attrs:{id:"sectContain"}},[n("p",{staticClass:"createdAt"},[t._v(t._s(e.createdAt))])]),n("edit-tweet",{attrs:{userId:e.userId,tweetId:e.tweetId}}),n("div",{staticClass:"cmtContain"},[n("tweet-comments",{attrs:{tweetId:e.tweetId}})],1),n("p",{staticClass:"content"},[t._v(t._s(e.content))]),n("div",{staticClass:"tweetActionsContainer"},[n("like-tweet",{attrs:{tweetId:e.tweetId}}),n("delete-tweet",{attrs:{userId:e.userId,tweetId:e.tweetId}})],1)],1)])}))],2)])},Ee=[],Oe={components:{EditTweet:q,DeleteTweet:P,TweetComments:ht,LikeTweet:Tt},name:"current-user-tweets",data:function(){return{currentUserInfo:d.a.get("currentUserInfo")}},mounted:function(){void 0===this.$store.state.currentUserTweets&&this.$store.dispatch("viewMyTweets")},computed:{sortedCurrentTweets:function(){return this.$store.getters.sortedCurrentTweets},currentUserTweets:function(){return this.$store.state.currentUserTweets},tweetLikes:function(){return this.$store.state.tweetLikes}}},xe=Oe,je=Object(p["a"])(xe,$e,Ee,!1,null,"4828cccc",null),Pe=je.exports,Ae={components:{EditProfileForm:Te,DeleteProfile:Le,CurrentUserTweets:Pe,PostTweet:xt},name:"current-user",data:function(){return{toggleDeleteOn:!1,toggleEditOn:!1}},computed:{currentUserInfo:function(){return this.$store.state.currentUserInfo}}},Fe=Ae,Se=(n("35b1"),Object(p["a"])(Fe,pe,he,!1,null,"26be13a8",null)),Be=Se.exports,De=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"pageContainer"},t._l(t.userProfile,(function(e){return n("div",{key:e.userId},[n("h2",[t._v(t._s(e.username))]),n("h3",[t._v(t._s(e.birthdate))]),n("h4",[t._v(t._s(e.bio))]),n("p",[t._v(t._s(e.email))]),n("router-link",{staticClass:"navUserProf",attrs:{to:"/users"}},[n("p",[t._v("Back to all users")])])],1)})),0)},qe=[],Ne={name:"other-user-profile",data:function(){return{userProfile:[]}},props:{userId:Number},mounted:function(){this.viewUserProfile()},methods:{viewUserProfile:function(){var t=this;l.a.request({url:"".concat("https://sustainappbility.tk/api","/users"),headers:{"Content-Type":"application/json"},params:{userId:this.userId}}).then((function(e){t.userProfile=e.data})).catch((function(e){console.log(e),console.log(t.userProfile)}))}}},Ve=Ne,Me=(n("01b0"),Object(p["a"])(Ve,De,qe,!1,null,"3ac84a62",null)),Ye=Me.exports,He={components:{CurrentUser:Be,OtherUserProfile:Ye},data:function(){return{currentUserInfo:d.a.get("currentUserInfo")}},computed:{paramId:function(){return this.$route.params.userId},allUsers:function(){return this.$store.state.allUsers}}},Ge=He,Je=Object(p["a"])(Ge,me,fe,!1,null,"15a8088f",null),Re=Je.exports,ze=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"pageContainer"},[n("h1",[t._v("All Users")]),n("all-users",{attrs:{id:"allUsers"}})],1)},Ke=[],Qe=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",t._l(t.allUsers,(function(e){return n("div",{key:e.userId},[n("h3",{staticClass:"username"},[t._v(" "+t._s(e.username)+" "),e.userId===t.currentUserInfo.userId?n("router-link",{staticClass:"navUserProf",attrs:{to:"/profile/"+e.userId}},[n("p",[t._v("View your profile")])]):n("router-link",{staticClass:"navUserProf",attrs:{to:"/profile/"+e.userId}},[e.userId===t.currentUserInfo.userId?n("p",[t._v("View your profile")]):n("p",[t._v("View user's profile")])])],1),e.userId!==t.currentUserInfo.userId?n("follow-unfollow",{attrs:{userId:e.userId}}):t._e(),n("br")],1)})),0)},We=[],Xe=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[void 0===t.followedUser?o("p",[t._v("...")]):!1===t.followedUser?o("img",{staticClass:"actionIcon",attrs:{src:n("fc5b"),alt:"follow user icon"},on:{click:t.followUser}}):!0===t.followedUser?o("img",{staticClass:"actionIcon",attrs:{src:n("956c"),alt:"unfollow user icon"},on:{click:t.unfollowUser}}):t._e()])},Ze=[],tn={name:"follow-unfollow",data:function(){return{currentUserInfo:d.a.get("currentUserInfo"),followedUser:void 0,loginToken:d.a.get("loginToken")}},props:{userId:Number},mounted:function(){void 0===this.followingUsers?this.getFollowingUsers():this.checkUserFollowed(this.userId)},computed:{followingUsers:function(){return this.$store.state.followingUsers}},methods:{checkUserFollowed:function(t){for(var e=0;e<this.followingUsers.length;e++){if(Number(t)==Number(this.followingUsers[e].userId)){this.followedUser=!0;break}void 0===this.followedUser&&(this.followedUser=!1)}},getFollowingUsers:function(){var t=this;l.a.request({url:"".concat("https://sustainappbility.tk/api","/follows"),headers:{"Content-Type":"application/json"},params:{userId:this.currentUserInfo.userId}}).then((function(e){t.$store.commit("updateFollowingUsers",e.data),t.$store.commit("addCurrentToFollowing",t.currentUserInfo),t.checkUserFollowed(t.userId)})).catch((function(t){console.log(t)}))},followUser:function(){var t=this;this.followedUser=!0,l.a.request({url:"".concat("https://sustainappbility.tk/api","/follows"),method:"POST",headers:{"Content-Type":"application/json"},data:{loginToken:this.loginToken,followId:this.userId}}).then((function(e){t.$store.commit("addUserToFollowing",e.data),t.checkUserFollowed(t.userId)})).catch((function(t){console.log(t)}))},unfollowUser:function(){var t=this;l.a.request({url:"".concat("https://sustainappbility.tk/api","/follows"),method:"DELETE",headers:{"Content-Type":"application/json"},data:{loginToken:this.loginToken,followId:this.userId}}).then((function(e){t.followedUser=!1;for(var n=0;n<t.followingUsers.length;n++)t.userId===t.followingUsers[n].userId&&t.$store.commit("removeUserFromFollowing",n);t.checkUserFollowed()})).catch((function(t){console.log(t)}))}}},en=tn,nn=Object(p["a"])(en,Xe,Ze,!1,null,"2ceac268",null),on=nn.exports,sn={name:"all-users",components:{FollowUnfollow:on},data:function(){return{currentUserInfo:d.a.get("currentUserInfo"),followedUser:{}}},mounted:function(){void 0===this.allUsers&&this.$store.dispatch("getAllUsers")},computed:{allUsers:function(){return this.$store.state.allUsers},followingUsers:function(){return this.$store.state.followingUsers}}},rn=sn,an=(n("a610"),Object(p["a"])(rn,Qe,We,!1,null,"77398aa8",null)),cn=an.exports,ln={name:"users",components:{AllUsers:cn}},un=ln,dn=(n("425a"),Object(p["a"])(un,ze,Ke,!1,null,"dba00ede",null)),mn=dn.exports;o["a"].use(T["a"]);var fn=[{path:"/discover",name:"Discover",component:Ft},{path:"/login",name:"Login",component:de},{path:"/users",name:"Users",component:mn},{path:"/profile/:userId",name:"Profile",component:Re},{path:"/feed",name:"Feed",component:Rt}],pn=new T["a"]({routes:fn,store:b}),hn=pn;o["a"].config.productionTip=!1,new o["a"]({router:hn,store:b,render:function(t){return t(k)}}).$mount("#app")},"5f25":function(t,e,n){"use strict";n("c7f5")},"663e":function(t,e,n){},"6ad2":function(t,e,n){},"6ae7":function(t,e,n){},7720:function(t,e,n){t.exports=n.p+"img/heart.f7c7e6cb.svg"},"78ad":function(t,e,n){t.exports=n.p+"img/trees.a709fbdb.svg"},"79aa":function(t,e,n){"use strict";n("6ad2")},"7d66":function(t,e,n){},"82f0":function(t,e,n){},"956c":function(t,e,n){t.exports=n.p+"img/unfollow.453b122a.svg"},"96ec":function(t,e,n){"use strict";n("82f0")},a2f3:function(t,e,n){},a610:function(t,e,n){"use strict";n("7d66")},aaec:function(t,e,n){t.exports=n.p+"img/tree.ac129feb.svg"},ad9b:function(t,e,n){"use strict";n("1abd")},b001:function(t,e,n){"use strict";n("a2f3")},b0a0:function(t,e,n){"use strict";n("452c")},b0e3:function(t,e,n){t.exports=n.p+"img/edit.3cca9991.svg"},bb4c:function(t,e,n){"use strict";n("663e")},bda0:function(t,e,n){"use strict";n("d64d")},c4d2:function(t,e,n){t.exports=n.p+"img/unlike.cf8ec170.svg"},c588:function(t,e,n){},c662:function(t,e,n){},c6c2:function(t,e,n){t.exports=n.p+"img/home.7d05fc9e.svg"},c7f5:function(t,e,n){},d398:function(t,e,n){},d64d:function(t,e,n){},e7c4:function(t,e,n){"use strict";n("f4e4")},f100:function(t,e,n){},f4e4:function(t,e,n){},fb85:function(t,e,n){"use strict";n("c662")},fc5b:function(t,e,n){t.exports=n.p+"img/follow.b0890558.svg"},fe48:function(t,e,n){"use strict";n("d398")}});
//# sourceMappingURL=app.97b319f8.js.map